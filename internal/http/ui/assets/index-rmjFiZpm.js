var Fn=Object.defineProperty;var Er=e=>{throw TypeError(e)};var Un=(e,t,a)=>t in e?Fn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var st=(e,t,a)=>Un(e,typeof t!="symbol"?t+"":t,a),Ga=(e,t,a)=>t.has(e)||Er("Cannot "+a);var k=(e,t,a)=>(Ga(e,t,"read from private field"),a?a.call(e):t.get(e)),Y=(e,t,a)=>t.has(e)?Er("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,a),J=(e,t,a,r)=>(Ga(e,t,"write to private field"),r?r.call(e,a):t.set(e,a),a),ge=(e,t,a)=>(Ga(e,t,"access private method"),a);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(s){if(s.ep)return;s.ep=!0;const n=a(s);fetch(s.href,n)}})();const Xa=!1;var gr=Array.isArray,Bn=Array.prototype.indexOf,sa=Array.prototype.includes,$a=Array.from,Vn=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,Hn=Object.getOwnPropertyDescriptors,Kn=Object.prototype,Gn=Array.prototype,Hr=Object.getPrototypeOf,Pr=Object.isExtensible;const er=()=>{};function Jn(e){for(var t=0;t<e.length;t++)e[t]()}function Kr(){var e,t,a=new Promise((r,s)=>{e=r,t=s});return{promise:a,resolve:e,reject:t}}const xe=2,ja=4,Fa=8,Gr=1<<24,gt=16,at=32,Wt=64,tr=128,He=512,me=1024,ke=2048,tt=4096,Ne=8192,_t=16384,Ht=32768,Kt=65536,Tr=1<<17,Jr=1<<18,va=1<<19,Wn=1<<20,pt=1<<25,Gt=65536,ar=1<<21,mr=1<<22,jt=1<<23,Zt=Symbol("$state"),Yn=Symbol("legacy props"),Zn=Symbol(""),qt=new class extends Error{constructor(){super(...arguments);st(this,"name","StaleReactionError");st(this,"message","The reaction that called `getAbortSignal()` was re-run or destroyed")}};var Ur;const Qn=!!((Ur=globalThis.document)!=null&&Ur.contentType)&&globalThis.document.contentType.includes("xml");function Xn(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function es(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function ts(e,t,a){throw new Error("https://svelte.dev/e/each_key_duplicate")}function as(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function rs(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ns(e){throw new Error("https://svelte.dev/e/effect_orphan")}function ss(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function is(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ls(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function os(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function vs(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function cs(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const ds=1,us=2,Wr=4,fs=8,ps=16,_s=1,hs=4,gs=8,ms=16,ys=1,bs=2,be=Symbol(),Yr="http://www.w3.org/1999/xhtml";function ws(){console.warn("https://svelte.dev/e/select_multiple_invalid_value")}function xs(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function Zr(e){return e===this.v}function ks(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Qr(e){return!ks(e,this.v)}let js=!1,Le=null;function ia(e){Le=e}function oe(e,t=!1,a){Le={p:Le,i:!1,c:null,e:null,s:e,x:null,l:null}}function ve(e){var t=Le,a=t.e;if(a!==null){t.e=null;for(var r of a)xn(r)}return t.i=!0,Le=t.p,{}}function Xr(){return!0}let Ot=[];function en(){var e=Ot;Ot=[],Jn(e)}function Ut(e){if(Ot.length===0&&!_a){var t=Ot;queueMicrotask(()=>{t===Ot&&en()})}Ot.push(e)}function Ss(){for(;Ot.length>0;)en()}function tn(e){var t=Q;if(t===null)return W.f|=jt,e;if((t.f&Ht)===0&&(t.f&ja)===0)throw e;kt(e,t)}function kt(e,t){for(;t!==null;){if((t.f&tr)!==0){if((t.f&Ht)===0)throw e;try{t.b.error(e);return}catch(a){e=a}}t=t.parent}throw e}const Es=-7169;function ue(e,t){e.f=e.f&Es|t}function yr(e){(e.f&He)!==0||e.deps===null?ue(e,me):ue(e,tt)}function an(e){if(e!==null)for(const t of e)(t.f&xe)===0||(t.f&Gt)===0||(t.f^=Gt,an(t.deps))}function rn(e,t,a){(e.f&ke)!==0?t.add(e):(e.f&tt)!==0&&a.add(e),an(e.deps),ue(e,me)}const Aa=new Set;let H=null,za=null,we=null,Ae=[],Ua=null,rr=!1,_a=!1;var Qt,Xt,Nt,ea,ba,wa,Lt,dt,ta,Me,nr,sr,ir,nn;const Sr=class Sr{constructor(){Y(this,Me);st(this,"current",new Map);st(this,"previous",new Map);Y(this,Qt,new Set);Y(this,Xt,new Set);Y(this,Nt,0);Y(this,ea,0);Y(this,ba,null);Y(this,wa,new Set);Y(this,Lt,new Set);Y(this,dt,new Map);st(this,"is_fork",!1);Y(this,ta,!1)}skip_effect(t){k(this,dt).has(t)||k(this,dt).set(t,{d:[],m:[]})}unskip_effect(t){var a=k(this,dt).get(t);if(a){k(this,dt).delete(t);for(var r of a.d)ue(r,ke),Qe(r);for(r of a.m)ue(r,tt),Qe(r)}}process(t){var s;Ae=[],this.apply();var a=[],r=[];for(const n of t)ge(this,Me,sr).call(this,n,a,r);if(ge(this,Me,nr).call(this)){ge(this,Me,ir).call(this,r),ge(this,Me,ir).call(this,a);for(const[n,l]of k(this,dt))vn(n,l)}else{for(const n of k(this,Qt))n();k(this,Qt).clear(),k(this,Nt)===0&&ge(this,Me,nn).call(this),za=this,H=null,Ar(r),Ar(a),za=null,(s=k(this,ba))==null||s.resolve()}we=null}capture(t,a){a!==be&&!this.previous.has(t)&&this.previous.set(t,a),(t.f&jt)===0&&(this.current.set(t,t.v),we==null||we.set(t,t.v))}activate(){H=this,this.apply()}deactivate(){H===this&&(H=null,we=null)}flush(){if(this.activate(),Ae.length>0){if(sn(),H!==null&&H!==this)return}else k(this,Nt)===0&&this.process([]);this.deactivate()}discard(){for(const t of k(this,Xt))t(this);k(this,Xt).clear()}increment(t){J(this,Nt,k(this,Nt)+1),t&&J(this,ea,k(this,ea)+1)}decrement(t){J(this,Nt,k(this,Nt)-1),t&&J(this,ea,k(this,ea)-1),!k(this,ta)&&(J(this,ta,!0),Ut(()=>{J(this,ta,!1),ge(this,Me,nr).call(this)?Ae.length>0&&this.flush():this.revive()}))}revive(){for(const t of k(this,wa))k(this,Lt).delete(t),ue(t,ke),Qe(t);for(const t of k(this,Lt))ue(t,tt),Qe(t);this.flush()}oncommit(t){k(this,Qt).add(t)}ondiscard(t){k(this,Xt).add(t)}settled(){return(k(this,ba)??J(this,ba,Kr())).promise}static ensure(){if(H===null){const t=H=new Sr;Aa.add(H),_a||Ut(()=>{H===t&&t.flush()})}return H}apply(){}};Qt=new WeakMap,Xt=new WeakMap,Nt=new WeakMap,ea=new WeakMap,ba=new WeakMap,wa=new WeakMap,Lt=new WeakMap,dt=new WeakMap,ta=new WeakMap,Me=new WeakSet,nr=function(){return this.is_fork||k(this,ea)>0},sr=function(t,a,r){t.f^=me;for(var s=t.first;s!==null;){var n=s.f,l=(n&(at|Wt))!==0,v=l&&(n&me)!==0,o=v||(n&Ne)!==0||k(this,dt).has(s);if(!o&&s.fn!==null){l?s.f^=me:(n&ja)!==0?a.push(s):Ea(s)&&((n&gt)!==0&&k(this,Lt).add(s),oa(s));var d=s.first;if(d!==null){s=d;continue}}for(;s!==null;){var u=s.next;if(u!==null){s=u;break}s=s.parent}}},ir=function(t){for(var a=0;a<t.length;a+=1)rn(t[a],k(this,wa),k(this,Lt))},nn=function(){var s;if(Aa.size>1){this.previous.clear();var t=we,a=!0;for(const n of Aa){if(n===this){a=!1;continue}const l=[];for(const[o,d]of this.current){if(n.current.has(o))if(a&&d!==n.current.get(o))n.current.set(o,d);else continue;l.push(o)}if(l.length===0)continue;const v=[...n.current.keys()].filter(o=>!this.current.has(o));if(v.length>0){var r=Ae;Ae=[];const o=new Set,d=new Map;for(const u of l)ln(u,v,o,d);if(Ae.length>0){H=n,n.apply();for(const u of Ae)ge(s=n,Me,sr).call(s,u,[],[]);n.deactivate()}Ae=r}}H=null,we=t}Aa.delete(this)};let St=Sr;function Ps(e){var t=_a;_a=!0;try{for(var a;;){if(Ss(),Ae.length===0&&(H==null||H.flush(),Ae.length===0))return Ua=null,a;sn()}}finally{_a=t}}function sn(){rr=!0;var e=null;try{for(var t=0;Ae.length>0;){var a=St.ensure();if(t++>1e3){var r,s;Ts()}a.process(Ae),Et.clear()}}finally{Ae=[],rr=!1,Ua=null}}function Ts(){try{ss()}catch(e){kt(e,Ua)}}let We=null;function Ar(e){var t=e.length;if(t!==0){for(var a=0;a<t;){var r=e[a++];if((r.f&(_t|Ne))===0&&Ea(r)&&(We=new Set,oa(r),r.deps===null&&r.first===null&&r.nodes===null&&r.teardown===null&&r.ac===null&&Sn(r),(We==null?void 0:We.size)>0)){Et.clear();for(const s of We){if((s.f&(_t|Ne))!==0)continue;const n=[s];let l=s.parent;for(;l!==null;)We.has(l)&&(We.delete(l),n.push(l)),l=l.parent;for(let v=n.length-1;v>=0;v--){const o=n[v];(o.f&(_t|Ne))===0&&oa(o)}}We.clear()}}We=null}}function ln(e,t,a,r){if(!a.has(e)&&(a.add(e),e.reactions!==null))for(const s of e.reactions){const n=s.f;(n&xe)!==0?ln(s,t,a,r):(n&(mr|gt))!==0&&(n&ke)===0&&on(s,t,r)&&(ue(s,ke),Qe(s))}}function on(e,t,a){const r=a.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const s of e.deps){if(sa.call(t,s))return!0;if((s.f&xe)!==0&&on(s,t,a))return a.set(s,!0),!0}return a.set(e,!1),!1}function Qe(e){var t=Ua=e,a=t.b;if(a!=null&&a.is_pending&&(e.f&(ja|Fa|Gr))!==0&&(e.f&Ht)===0){a.defer_effect(e);return}for(;t.parent!==null;){t=t.parent;var r=t.f;if(rr&&t===Q&&(r&gt)!==0&&(r&Jr)===0&&(r&Ht)!==0)return;if((r&(Wt|at))!==0){if((r&me)===0)return;t.f^=me}}Ae.push(t)}function vn(e,t){if(!((e.f&at)!==0&&(e.f&me)!==0)){(e.f&ke)!==0?t.d.push(e):(e.f&tt)!==0&&t.m.push(e),ue(e,me);for(var a=e.first;a!==null;)vn(a,t),a=a.next}}function As(e){let t=0,a=Jt(0),r;return()=>{xr()&&(i(a),kn(()=>(t===0&&(r=Ha(()=>e(()=>ha(a)))),t+=1,()=>{Ut(()=>{t-=1,t===0&&(r==null||r(),r=void 0,ha(a))})})))}}var Is=Kt|va;function Cs(e,t,a,r){new Rs(e,t,a,r)}var Be,hr,lt,Mt,Te,ot,ze,Ye,ut,$t,xt,aa,ra,na,ft,La,_e,qs,Os,zs,lr,Ra,qa,or;class Rs{constructor(t,a,r,s){Y(this,_e);st(this,"parent");st(this,"is_pending",!1);st(this,"transform_error");Y(this,Be);Y(this,hr,null);Y(this,lt);Y(this,Mt);Y(this,Te);Y(this,ot,null);Y(this,ze,null);Y(this,Ye,null);Y(this,ut,null);Y(this,$t,0);Y(this,xt,0);Y(this,aa,!1);Y(this,ra,new Set);Y(this,na,new Set);Y(this,ft,null);Y(this,La,As(()=>(J(this,ft,Jt(k(this,$t))),()=>{J(this,ft,null)})));var n;J(this,Be,t),J(this,lt,a),J(this,Mt,l=>{var v=Q;v.b=this,v.f|=tr,r(l)}),this.parent=Q.b,this.transform_error=s??((n=this.parent)==null?void 0:n.transform_error)??(l=>l),J(this,Te,Va(()=>{ge(this,_e,lr).call(this)},Is))}defer_effect(t){rn(t,k(this,ra),k(this,na))}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!k(this,lt).pending}update_pending_count(t){ge(this,_e,or).call(this,t),J(this,$t,k(this,$t)+t),!(!k(this,ft)||k(this,aa))&&(J(this,aa,!0),Ut(()=>{J(this,aa,!1),k(this,ft)&&la(k(this,ft),k(this,$t))}))}get_effect_pending(){return k(this,La).call(this),i(k(this,ft))}error(t){var a=k(this,lt).onerror;let r=k(this,lt).failed;if(!a&&!r)throw t;k(this,ot)&&(Ce(k(this,ot)),J(this,ot,null)),k(this,ze)&&(Ce(k(this,ze)),J(this,ze,null)),k(this,Ye)&&(Ce(k(this,Ye)),J(this,Ye,null));var s=!1,n=!1;const l=()=>{if(s){xs();return}s=!0,n&&cs(),k(this,Ye)!==null&&Bt(k(this,Ye),()=>{J(this,Ye,null)}),ge(this,_e,qa).call(this,()=>{St.ensure(),ge(this,_e,lr).call(this)})},v=o=>{try{n=!0,a==null||a(o,l),n=!1}catch(d){kt(d,k(this,Te)&&k(this,Te).parent)}r&&J(this,Ye,ge(this,_e,qa).call(this,()=>{St.ensure();try{return Ve(()=>{var d=Q;d.b=this,d.f|=tr,r(k(this,Be),()=>o,()=>l)})}catch(d){return kt(d,k(this,Te).parent),null}}))};Ut(()=>{var o;try{o=this.transform_error(t)}catch(d){kt(d,k(this,Te)&&k(this,Te).parent);return}o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(v,d=>kt(d,k(this,Te)&&k(this,Te).parent)):v(o)})}}Be=new WeakMap,hr=new WeakMap,lt=new WeakMap,Mt=new WeakMap,Te=new WeakMap,ot=new WeakMap,ze=new WeakMap,Ye=new WeakMap,ut=new WeakMap,$t=new WeakMap,xt=new WeakMap,aa=new WeakMap,ra=new WeakMap,na=new WeakMap,ft=new WeakMap,La=new WeakMap,_e=new WeakSet,qs=function(){try{J(this,ot,Ve(()=>k(this,Mt).call(this,k(this,Be))))}catch(t){this.error(t)}},Os=function(t){const a=k(this,lt).failed;a&&J(this,Ye,Ve(()=>{a(k(this,Be),()=>t,()=>()=>{})}))},zs=function(){const t=k(this,lt).pending;t&&(this.is_pending=!0,J(this,ze,Ve(()=>t(k(this,Be)))),Ut(()=>{var a=J(this,ut,document.createDocumentFragment()),r=ht();a.append(r),J(this,ot,ge(this,_e,qa).call(this,()=>(St.ensure(),Ve(()=>k(this,Mt).call(this,r))))),k(this,xt)===0&&(k(this,Be).before(a),J(this,ut,null),Bt(k(this,ze),()=>{J(this,ze,null)}),ge(this,_e,Ra).call(this))}))},lr=function(){try{if(this.is_pending=this.has_pending_snippet(),J(this,xt,0),J(this,$t,0),J(this,ot,Ve(()=>{k(this,Mt).call(this,k(this,Be))})),k(this,xt)>0){var t=J(this,ut,document.createDocumentFragment());Tn(k(this,ot),t);const a=k(this,lt).pending;J(this,ze,Ve(()=>a(k(this,Be))))}else ge(this,_e,Ra).call(this)}catch(a){this.error(a)}},Ra=function(){this.is_pending=!1;for(const t of k(this,ra))ue(t,ke),Qe(t);for(const t of k(this,na))ue(t,tt),Qe(t);k(this,ra).clear(),k(this,na).clear()},qa=function(t){var a=Q,r=W,s=Le;ct(k(this,Te)),Ge(k(this,Te)),ia(k(this,Te).ctx);try{return t()}catch(n){return tn(n),null}finally{ct(a),Ge(r),ia(s)}},or=function(t){var a;if(!this.has_pending_snippet()){this.parent&&ge(a=this.parent,_e,or).call(a,t);return}J(this,xt,k(this,xt)+t),k(this,xt)===0&&(ge(this,_e,Ra).call(this),k(this,ze)&&Bt(k(this,ze),()=>{J(this,ze,null)}),k(this,ut)&&(k(this,Be).before(k(this,ut)),J(this,ut,null)))};function Ds(e,t,a,r){const s=Ba;var n=e.filter(_=>!_.settled);if(a.length===0&&n.length===0){r(t.map(s));return}var l=Q,v=Ns(),o=n.length===1?n[0].promise:n.length>1?Promise.all(n.map(_=>_.promise)):null;function d(_){v();try{r(_)}catch(h){(l.f&_t)===0&&kt(h,l)}vr()}if(a.length===0){o.then(()=>d(t.map(s)));return}function u(){v(),Promise.all(a.map(_=>Ms(_))).then(_=>d([...t.map(s),..._])).catch(_=>kt(_,l))}o?o.then(u):u()}function Ns(){var e=Q,t=W,a=Le,r=H;return function(n=!0){ct(e),Ge(t),ia(a),n&&(r==null||r.activate())}}function vr(e=!0){ct(null),Ge(null),ia(null),e&&(H==null||H.deactivate())}function Ls(){var e=Q.b,t=H,a=e.is_rendered();return e.update_pending_count(1),t.increment(a),()=>{e.update_pending_count(-1),t.decrement(a)}}function Ba(e){var t=xe|ke,a=W!==null&&(W.f&xe)!==0?W:null;return Q!==null&&(Q.f|=va),{ctx:Le,deps:null,effects:null,equals:Zr,f:t,fn:e,reactions:null,rv:0,v:be,wv:0,parent:a??Q,ac:null}}function Ms(e,t,a){Q===null&&es();var s=void 0,n=Jt(be),l=!W,v=new Map;return ei(()=>{var h;var o=Kr();s=o.promise;try{Promise.resolve(e()).then(o.resolve,o.reject).finally(vr)}catch(m){o.reject(m),vr()}var d=H;if(l){var u=Ls();(h=v.get(d))==null||h.reject(qt),v.delete(d),v.set(d,o)}const _=(m,y=void 0)=>{if(d.activate(),y)y!==qt&&(n.f|=jt,la(n,y));else{(n.f&jt)!==0&&(n.f^=jt),la(n,m);for(const[b,p]of v){if(v.delete(b),b===d)break;p.reject(qt)}}u&&u()};o.promise.then(_,m=>_(null,m||"unknown"))}),bn(()=>{for(const o of v.values())o.reject(qt)}),new Promise(o=>{function d(u){function _(){u===s?o(n):d(s)}u.then(_,_)}d(s)})}function G(e){const t=Ba(e);return An(t),t}function cn(e){const t=Ba(e);return t.equals=Qr,t}function $s(e){var t=e.effects;if(t!==null){e.effects=null;for(var a=0;a<t.length;a+=1)Ce(t[a])}}function Fs(e){for(var t=e.parent;t!==null;){if((t.f&xe)===0)return(t.f&_t)===0?t:null;t=t.parent}return null}function br(e){var t,a=Q;ct(Fs(e));try{e.f&=~Gt,$s(e),t=qn(e)}finally{ct(a)}return t}function dn(e){var t=br(e);if(!e.equals(t)&&(e.wv=Cn(),(!(H!=null&&H.is_fork)||e.deps===null)&&(e.v=t,e.deps===null))){ue(e,me);return}Tt||(we!==null?(xr()||H!=null&&H.is_fork)&&we.set(e,t):yr(e))}function Us(e){var t,a;if(e.effects!==null)for(const r of e.effects)(r.teardown||r.ac)&&((t=r.teardown)==null||t.call(r),(a=r.ac)==null||a.abort(qt),r.teardown=er,r.ac=null,ma(r,0),kr(r))}function un(e){if(e.effects!==null)for(const t of e.effects)t.teardown&&oa(t)}let cr=new Set;const Et=new Map;let fn=!1;function Jt(e,t){var a={f:0,v:e,reactions:null,equals:Zr,rv:0,wv:0};return a}function D(e,t){const a=Jt(e);return An(a),a}function Bs(e,t=!1,a=!0){const r=Jt(e);return t||(r.equals=Qr),r}function E(e,t,a=!1){W!==null&&(!Xe||(W.f&Tr)!==0)&&Xr()&&(W.f&(xe|gt|mr|Tr))!==0&&(Ke===null||!sa.call(Ke,e))&&vs();let r=a?te(t):t;return la(e,r)}function la(e,t){if(!e.equals(t)){var a=e.v;Tt?Et.set(e,t):Et.set(e,a),e.v=t;var r=St.ensure();if(r.capture(e,a),(e.f&xe)!==0){const s=e;(e.f&ke)!==0&&br(s),yr(s)}e.wv=Cn(),pn(e,ke),Q!==null&&(Q.f&me)!==0&&(Q.f&(at|Wt))===0&&(Ue===null?ri([e]):Ue.push(e)),!r.is_fork&&cr.size>0&&!fn&&Vs()}return t}function Vs(){fn=!1;for(const e of cr)(e.f&me)!==0&&ue(e,tt),Ea(e)&&oa(e);cr.clear()}function ha(e){E(e,e.v+1)}function pn(e,t){var a=e.reactions;if(a!==null)for(var r=a.length,s=0;s<r;s++){var n=a[s],l=n.f,v=(l&ke)===0;if(v&&ue(n,t),(l&xe)!==0){var o=n;we==null||we.delete(o),(l&Gt)===0&&(l&He&&(n.f|=Gt),pn(o,tt))}else v&&((l&gt)!==0&&We!==null&&We.add(n),Qe(n))}}function te(e){if(typeof e!="object"||e===null||Zt in e)return e;const t=Hr(e);if(t!==Kn&&t!==Gn)return e;var a=new Map,r=gr(e),s=D(0),n=Vt,l=v=>{if(Vt===n)return v();var o=W,d=Vt;Ge(null),Or(n);var u=v();return Ge(o),Or(d),u};return r&&a.set("length",D(e.length)),new Proxy(e,{defineProperty(v,o,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&ls();var u=a.get(o);return u===void 0?l(()=>{var _=D(d.value);return a.set(o,_),_}):E(u,d.value,!0),!0},deleteProperty(v,o){var d=a.get(o);if(d===void 0){if(o in v){const u=l(()=>D(be));a.set(o,u),ha(s)}}else E(d,be),ha(s);return!0},get(v,o,d){var m;if(o===Zt)return e;var u=a.get(o),_=o in v;if(u===void 0&&(!_||(m=Yt(v,o))!=null&&m.writable)&&(u=l(()=>{var y=te(_?v[o]:be),b=D(y);return b}),a.set(o,u)),u!==void 0){var h=i(u);return h===be?void 0:h}return Reflect.get(v,o,d)},getOwnPropertyDescriptor(v,o){var d=Reflect.getOwnPropertyDescriptor(v,o);if(d&&"value"in d){var u=a.get(o);u&&(d.value=i(u))}else if(d===void 0){var _=a.get(o),h=_==null?void 0:_.v;if(_!==void 0&&h!==be)return{enumerable:!0,configurable:!0,value:h,writable:!0}}return d},has(v,o){var h;if(o===Zt)return!0;var d=a.get(o),u=d!==void 0&&d.v!==be||Reflect.has(v,o);if(d!==void 0||Q!==null&&(!u||(h=Yt(v,o))!=null&&h.writable)){d===void 0&&(d=l(()=>{var m=u?te(v[o]):be,y=D(m);return y}),a.set(o,d));var _=i(d);if(_===be)return!1}return u},set(v,o,d,u){var T;var _=a.get(o),h=o in v;if(r&&o==="length")for(var m=d;m<_.v;m+=1){var y=a.get(m+"");y!==void 0?E(y,be):m in v&&(y=l(()=>D(be)),a.set(m+"",y))}if(_===void 0)(!h||(T=Yt(v,o))!=null&&T.writable)&&(_=l(()=>D(void 0)),E(_,te(d)),a.set(o,_));else{h=_.v!==be;var b=l(()=>te(d));E(_,b)}var p=Reflect.getOwnPropertyDescriptor(v,o);if(p!=null&&p.set&&p.set.call(u,d),!h){if(r&&typeof o=="string"){var w=a.get("length"),I=Number(o);Number.isInteger(I)&&I>=w.v&&E(w,I+1)}ha(s)}return!0},ownKeys(v){i(s);var o=Reflect.ownKeys(v).filter(_=>{var h=a.get(_);return h===void 0||h.v!==be});for(var[d,u]of a)u.v!==be&&!(d in v)&&o.push(d);return o},setPrototypeOf(){os()}})}function Ir(e){try{if(e!==null&&typeof e=="object"&&Zt in e)return e[Zt]}catch{}return e}function Hs(e,t){return Object.is(Ir(e),Ir(t))}var Cr,_n,hn,gn;function Ks(){if(Cr===void 0){Cr=window,_n=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,a=Text.prototype;hn=Yt(t,"firstChild").get,gn=Yt(t,"nextSibling").get,Pr(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Pr(a)&&(a.__t=void 0)}}function ht(e=""){return document.createTextNode(e)}function Da(e){return hn.call(e)}function Sa(e){return gn.call(e)}function c(e,t){return Da(e)}function Ee(e,t=!1){{var a=Da(e);return a instanceof Comment&&a.data===""?Sa(a):a}}function f(e,t=1,a=!1){let r=e;for(;t--;)r=Sa(r);return r}function Gs(e){e.textContent=""}function mn(){return!1}function Js(e,t,a){return document.createElementNS(Yr,e,void 0)}let Rr=!1;function Ws(){Rr||(Rr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const a of e.target.elements)(t=a.__on_r)==null||t.call(a)})},{capture:!0}))}function wr(e){var t=W,a=Q;Ge(null),ct(null);try{return e()}finally{Ge(t),ct(a)}}function yn(e,t,a,r=a){e.addEventListener(t,()=>wr(a));const s=e.__on_r;s?e.__on_r=()=>{s(),r(!0)}:e.__on_r=()=>r(!0),Ws()}function Ys(e){Q===null&&(W===null&&ns(),rs()),Tt&&as()}function Zs(e,t){var a=t.last;a===null?t.last=t.first=e:(a.next=e,e.prev=a,t.last=e)}function mt(e,t,a){var r=Q;r!==null&&(r.f&Ne)!==0&&(e|=Ne);var s={ctx:Le,deps:null,nodes:null,f:e|ke|He,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(a)try{oa(s)}catch(v){throw Ce(s),v}else t!==null&&Qe(s);var n=s;if(a&&n.deps===null&&n.teardown===null&&n.nodes===null&&n.first===n.last&&(n.f&va)===0&&(n=n.first,(e&gt)!==0&&(e&Kt)!==0&&n!==null&&(n.f|=Kt)),n!==null&&(n.parent=r,r!==null&&Zs(n,r),W!==null&&(W.f&xe)!==0&&(e&Wt)===0)){var l=W;(l.effects??(l.effects=[])).push(n)}return s}function xr(){return W!==null&&!Xe}function bn(e){const t=mt(Fa,null,!1);return ue(t,me),t.teardown=e,t}function wn(e){Ys();var t=Q.f,a=!W&&(t&at)!==0&&(t&Ht)===0;if(a){var r=Le;(r.e??(r.e=[])).push(e)}else return xn(e)}function xn(e){return mt(ja|Wn,e,!1)}function Qs(e){St.ensure();const t=mt(Wt|va,e,!0);return(a={})=>new Promise(r=>{a.outro?Bt(t,()=>{Ce(t),r(void 0)}):(Ce(t),r(void 0))})}function Xs(e){return mt(ja,e,!1)}function ei(e){return mt(mr|va,e,!0)}function kn(e,t=0){return mt(Fa|t,e,!0)}function q(e,t=[],a=[],r=[]){Ds(r,t,a,s=>{mt(Fa,()=>e(...s.map(i)),!0)})}function Va(e,t=0){var a=mt(gt|t,e,!0);return a}function Ve(e){return mt(at|va,e,!0)}function jn(e){var t=e.teardown;if(t!==null){const a=Tt,r=W;qr(!0),Ge(null);try{t.call(null)}finally{qr(a),Ge(r)}}}function kr(e,t=!1){var a=e.first;for(e.first=e.last=null;a!==null;){const s=a.ac;s!==null&&wr(()=>{s.abort(qt)});var r=a.next;(a.f&Wt)!==0?a.parent=null:Ce(a,t),a=r}}function ti(e){for(var t=e.first;t!==null;){var a=t.next;(t.f&at)===0&&Ce(t),t=a}}function Ce(e,t=!0){var a=!1;(t||(e.f&Jr)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(ai(e.nodes.start,e.nodes.end),a=!0),kr(e,t&&!a),ma(e,0),ue(e,_t);var r=e.nodes&&e.nodes.t;if(r!==null)for(const n of r)n.stop();jn(e);var s=e.parent;s!==null&&s.first!==null&&Sn(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function ai(e,t){for(;e!==null;){var a=e===t?null:Sa(e);e.remove(),e=a}}function Sn(e){var t=e.parent,a=e.prev,r=e.next;a!==null&&(a.next=r),r!==null&&(r.prev=a),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=a))}function Bt(e,t,a=!0){var r=[];En(e,r,!0);var s=()=>{a&&Ce(e),t&&t()},n=r.length;if(n>0){var l=()=>--n||s();for(var v of r)v.out(l)}else s()}function En(e,t,a){if((e.f&Ne)===0){e.f^=Ne;var r=e.nodes&&e.nodes.t;if(r!==null)for(const v of r)(v.is_global||a)&&t.push(v);for(var s=e.first;s!==null;){var n=s.next,l=(s.f&Kt)!==0||(s.f&at)!==0&&(e.f&gt)!==0;En(s,t,l?a:!1),s=n}}}function jr(e){Pn(e,!0)}function Pn(e,t){if((e.f&Ne)!==0){e.f^=Ne,(e.f&me)===0&&(ue(e,ke),Qe(e));for(var a=e.first;a!==null;){var r=a.next,s=(a.f&Kt)!==0||(a.f&at)!==0;Pn(a,s?t:!1),a=r}var n=e.nodes&&e.nodes.t;if(n!==null)for(const l of n)(l.is_global||t)&&l.in()}}function Tn(e,t){if(e.nodes)for(var a=e.nodes.start,r=e.nodes.end;a!==null;){var s=a===r?null:Sa(a);t.append(a),a=s}}let Oa=!1,Tt=!1;function qr(e){Tt=e}let W=null,Xe=!1;function Ge(e){W=e}let Q=null;function ct(e){Q=e}let Ke=null;function An(e){W!==null&&(Ke===null?Ke=[e]:Ke.push(e))}let Ie=null,Oe=0,Ue=null;function ri(e){Ue=e}let In=1,zt=0,Vt=zt;function Or(e){Vt=e}function Cn(){return++In}function Ea(e){var t=e.f;if((t&ke)!==0)return!0;if(t&xe&&(e.f&=~Gt),(t&tt)!==0){for(var a=e.deps,r=a.length,s=0;s<r;s++){var n=a[s];if(Ea(n)&&dn(n),n.wv>e.wv)return!0}(t&He)!==0&&we===null&&ue(e,me)}return!1}function Rn(e,t,a=!0){var r=e.reactions;if(r!==null&&!(Ke!==null&&sa.call(Ke,e)))for(var s=0;s<r.length;s++){var n=r[s];(n.f&xe)!==0?Rn(n,t,!1):t===n&&(a?ue(n,ke):(n.f&me)!==0&&ue(n,tt),Qe(n))}}function qn(e){var b;var t=Ie,a=Oe,r=Ue,s=W,n=Ke,l=Le,v=Xe,o=Vt,d=e.f;Ie=null,Oe=0,Ue=null,W=(d&(at|Wt))===0?e:null,Ke=null,ia(e.ctx),Xe=!1,Vt=++zt,e.ac!==null&&(wr(()=>{e.ac.abort(qt)}),e.ac=null);try{e.f|=ar;var u=e.fn,_=u();e.f|=Ht;var h=e.deps,m=H==null?void 0:H.is_fork;if(Ie!==null){var y;if(m||ma(e,Oe),h!==null&&Oe>0)for(h.length=Oe+Ie.length,y=0;y<Ie.length;y++)h[Oe+y]=Ie[y];else e.deps=h=Ie;if(xr()&&(e.f&He)!==0)for(y=Oe;y<h.length;y++)((b=h[y]).reactions??(b.reactions=[])).push(e)}else!m&&h!==null&&Oe<h.length&&(ma(e,Oe),h.length=Oe);if(Xr()&&Ue!==null&&!Xe&&h!==null&&(e.f&(xe|tt|ke))===0)for(y=0;y<Ue.length;y++)Rn(Ue[y],e);if(s!==null&&s!==e){if(zt++,s.deps!==null)for(let p=0;p<a;p+=1)s.deps[p].rv=zt;if(t!==null)for(const p of t)p.rv=zt;Ue!==null&&(r===null?r=Ue:r.push(...Ue))}return(e.f&jt)!==0&&(e.f^=jt),_}catch(p){return tn(p)}finally{e.f^=ar,Ie=t,Oe=a,Ue=r,W=s,Ke=n,ia(l),Xe=v,Vt=o}}function ni(e,t){let a=t.reactions;if(a!==null){var r=Bn.call(a,e);if(r!==-1){var s=a.length-1;s===0?a=t.reactions=null:(a[r]=a[s],a.pop())}}if(a===null&&(t.f&xe)!==0&&(Ie===null||!sa.call(Ie,t))){var n=t;(n.f&He)!==0&&(n.f^=He,n.f&=~Gt),yr(n),Us(n),ma(n,0)}}function ma(e,t){var a=e.deps;if(a!==null)for(var r=t;r<a.length;r++)ni(e,a[r])}function oa(e){var t=e.f;if((t&_t)===0){ue(e,me);var a=Q,r=Oa;Q=e,Oa=!0;try{(t&(gt|Gr))!==0?ti(e):kr(e),jn(e);var s=qn(e);e.teardown=typeof s=="function"?s:null,e.wv=In;var n;Xa&&js&&(e.f&ke)!==0&&e.deps}finally{Oa=r,Q=a}}}async function si(){await Promise.resolve(),Ps()}function i(e){var t=e.f,a=(t&xe)!==0;if(W!==null&&!Xe){var r=Q!==null&&(Q.f&_t)!==0;if(!r&&(Ke===null||!sa.call(Ke,e))){var s=W.deps;if((W.f&ar)!==0)e.rv<zt&&(e.rv=zt,Ie===null&&s!==null&&s[Oe]===e?Oe++:Ie===null?Ie=[e]:Ie.push(e));else{(W.deps??(W.deps=[])).push(e);var n=e.reactions;n===null?e.reactions=[W]:sa.call(n,W)||n.push(W)}}}if(Tt&&Et.has(e))return Et.get(e);if(a){var l=e;if(Tt){var v=l.v;return((l.f&me)===0&&l.reactions!==null||zn(l))&&(v=br(l)),Et.set(l,v),v}var o=(l.f&He)===0&&!Xe&&W!==null&&(Oa||(W.f&He)!==0),d=(l.f&Ht)===0;Ea(l)&&(o&&(l.f|=He),dn(l)),o&&!d&&(un(l),On(l))}if(we!=null&&we.has(e))return we.get(e);if((e.f&jt)!==0)throw e.v;return e.v}function On(e){if(e.f|=He,e.deps!==null)for(const t of e.deps)(t.reactions??(t.reactions=[])).push(e),(t.f&xe)!==0&&(t.f&He)===0&&(un(t),On(t))}function zn(e){if(e.v===be)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Et.has(t)||(t.f&xe)!==0&&zn(t))return!0;return!1}function Ha(e){var t=Xe;try{return Xe=!0,e()}finally{Xe=t}}const ii=["touchstart","touchmove"];function li(e){return ii.includes(e)}const Dt=Symbol("events"),Dn=new Set,dr=new Set;function le(e,t,a){(t[Dt]??(t[Dt]={}))[e]=a}function Re(e){for(var t=0;t<e.length;t++)Dn.add(e[t]);for(var a of dr)a(e)}let zr=null;function Dr(e){var p,w;var t=this,a=t.ownerDocument,r=e.type,s=((p=e.composedPath)==null?void 0:p.call(e))||[],n=s[0]||e.target;zr=e;var l=0,v=zr===e&&e[Dt];if(v){var o=s.indexOf(v);if(o!==-1&&(t===document||t===window)){e[Dt]=t;return}var d=s.indexOf(t);if(d===-1)return;o<=d&&(l=o)}if(n=s[l]||e.target,n!==t){Vn(e,"currentTarget",{configurable:!0,get(){return n||a}});var u=W,_=Q;Ge(null),ct(null);try{for(var h,m=[];n!==null;){var y=n.assignedSlot||n.parentNode||n.host||null;try{var b=(w=n[Dt])==null?void 0:w[r];b!=null&&(!n.disabled||e.target===n)&&b.call(n,e)}catch(I){h?m.push(I):h=I}if(e.cancelBubble||y===t||y===null)break;n=y}if(h){for(let I of m)queueMicrotask(()=>{throw I});throw h}}finally{e[Dt]=t,delete e.currentTarget,Ge(u),ct(_)}}}var Br;const Ja=((Br=globalThis==null?void 0:globalThis.window)==null?void 0:Br.trustedTypes)&&globalThis.window.trustedTypes.createPolicy("svelte-trusted-html",{createHTML:e=>e});function oi(e){return(Ja==null?void 0:Ja.createHTML(e))??e}function vi(e){var t=Js("template");return t.innerHTML=oi(e.replaceAll("<!>","<!---->")),t.content}function Na(e,t){var a=Q;a.nodes===null&&(a.nodes={start:e,end:t,a:null,t:null})}function A(e,t){var a=(t&ys)!==0,r=(t&bs)!==0,s,n=!e.startsWith("<!>");return()=>{s===void 0&&(s=vi(n?e:"<!>"+e),a||(s=Da(s)));var l=r||_n?document.importNode(s,!0):s.cloneNode(!0);if(a){var v=Da(l),o=l.lastChild;Na(v,o)}else Na(l,l);return l}}function Z(e=""){{var t=ht(e+"");return Na(t,t),t}}function At(){var e=document.createDocumentFragment(),t=document.createComment(""),a=ht();return e.append(t,a),Na(t,a),e}function g(e,t){e!==null&&e.before(t)}function P(e,t){var a=t==null?"":typeof t=="object"?t+"":t;a!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=a,e.nodeValue=a+"")}function ci(e,t){return di(e,t)}const Ia=new Map;function di(e,{target:t,anchor:a,props:r={},events:s,context:n,intro:l=!0,transformError:v}){Ks();var o=void 0,d=Qs(()=>{var u=a??t.appendChild(ht());Cs(u,{pending:()=>{}},m=>{oe({});var y=Le;n&&(y.c=n),s&&(r.$$events=s),o=e(m,r)||{},ve()},v);var _=new Set,h=m=>{for(var y=0;y<m.length;y++){var b=m[y];if(!_.has(b)){_.add(b);var p=li(b);for(const T of[t,document]){var w=Ia.get(T);w===void 0&&(w=new Map,Ia.set(T,w));var I=w.get(b);I===void 0?(T.addEventListener(b,Dr,{passive:p}),w.set(b,1)):w.set(b,I+1)}}}};return h($a(Dn)),dr.add(h),()=>{var p;for(var m of _)for(const w of[t,document]){var y=Ia.get(w),b=y.get(m);--b==0?(w.removeEventListener(m,Dr),y.delete(m),y.size===0&&Ia.delete(w)):y.set(m,b)}dr.delete(h),u!==a&&((p=u.parentNode)==null||p.removeChild(u))}});return ui.set(o,d),o}let ui=new WeakMap;var Ze,vt,De,Ft,xa,ka,Ma;class Nn{constructor(t,a=!0){st(this,"anchor");Y(this,Ze,new Map);Y(this,vt,new Map);Y(this,De,new Map);Y(this,Ft,new Set);Y(this,xa,!0);Y(this,ka,()=>{var t=H;if(k(this,Ze).has(t)){var a=k(this,Ze).get(t),r=k(this,vt).get(a);if(r)jr(r),k(this,Ft).delete(a);else{var s=k(this,De).get(a);s&&(k(this,vt).set(a,s.effect),k(this,De).delete(a),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[n,l]of k(this,Ze)){if(k(this,Ze).delete(n),n===t)break;const v=k(this,De).get(l);v&&(Ce(v.effect),k(this,De).delete(l))}for(const[n,l]of k(this,vt)){if(n===a||k(this,Ft).has(n))continue;const v=()=>{if(Array.from(k(this,Ze).values()).includes(n)){var d=document.createDocumentFragment();Tn(l,d),d.append(ht()),k(this,De).set(n,{effect:l,fragment:d})}else Ce(l);k(this,Ft).delete(n),k(this,vt).delete(n)};k(this,xa)||!r?(k(this,Ft).add(n),Bt(l,v,!1)):v()}}});Y(this,Ma,t=>{k(this,Ze).delete(t);const a=Array.from(k(this,Ze).values());for(const[r,s]of k(this,De))a.includes(r)||(Ce(s.effect),k(this,De).delete(r))});this.anchor=t,J(this,xa,a)}ensure(t,a){var r=H,s=mn();if(a&&!k(this,vt).has(t)&&!k(this,De).has(t))if(s){var n=document.createDocumentFragment(),l=ht();n.append(l),k(this,De).set(t,{effect:Ve(()=>a(l)),fragment:n})}else k(this,vt).set(t,Ve(()=>a(this.anchor)));if(k(this,Ze).set(r,t),s){for(const[v,o]of k(this,vt))v===t?r.unskip_effect(o):r.skip_effect(o);for(const[v,o]of k(this,De))v===t?r.unskip_effect(o.effect):r.skip_effect(o.effect);r.oncommit(k(this,ka)),r.ondiscard(k(this,Ma))}else k(this,ka).call(this)}}Ze=new WeakMap,vt=new WeakMap,De=new WeakMap,Ft=new WeakMap,xa=new WeakMap,ka=new WeakMap,Ma=new WeakMap;function U(e,t,a=!1){var r=new Nn(e),s=a?Kt:0;function n(l,v){r.ensure(l,v)}Va(()=>{var l=!1;t((v,o=0)=>{l=!0,n(o,v)}),l||n(!1,null)},s)}function X(e,t){return t}function fi(e,t,a){for(var r=[],s=t.length,n,l=t.length,v=0;v<s;v++){let _=t[v];Bt(_,()=>{if(n){if(n.pending.delete(_),n.done.add(_),n.pending.size===0){var h=e.outrogroups;ur($a(n.done)),h.delete(n),h.size===0&&(e.outrogroups=null)}}else l-=1},!1)}if(l===0){var o=r.length===0&&a!==null;if(o){var d=a,u=d.parentNode;Gs(u),u.append(d),e.items.clear()}ur(t,!o)}else n={pending:new Set(t),done:new Set},(e.outrogroups??(e.outrogroups=new Set)).add(n)}function ur(e,t=!0){for(var a=0;a<e.length;a++)Ce(e[a],t)}var Nr;function ee(e,t,a,r,s,n=null){var l=e,v=new Map,o=(t&Wr)!==0;if(o){var d=e;l=d.appendChild(ht())}var u=null,_=cn(()=>{var w=a();return gr(w)?w:w==null?[]:$a(w)}),h,m=!0;function y(){p.fallback=u,pi(p,h,l,t,r),u!==null&&(h.length===0?(u.f&pt)===0?jr(u):(u.f^=pt,pa(u,null,l)):Bt(u,()=>{u=null}))}var b=Va(()=>{h=i(_);for(var w=h.length,I=new Set,T=H,j=mn(),S=0;S<w;S+=1){var x=h[S],C=r(x,S),R=m?null:v.get(C);R?(R.v&&la(R.v,x),R.i&&la(R.i,S),j&&T.unskip_effect(R.e)):(R=_i(v,m?l:Nr??(Nr=ht()),x,C,S,s,t,a),m||(R.e.f|=pt),v.set(C,R)),I.add(C)}if(w===0&&n&&!u&&(m?u=Ve(()=>n(l)):(u=Ve(()=>n(Nr??(Nr=ht()))),u.f|=pt)),w>I.size&&ts(),!m)if(j){for(const[O,F]of v)I.has(O)||T.skip_effect(F.e);T.oncommit(y),T.ondiscard(()=>{})}else y();i(_)}),p={effect:b,items:v,outrogroups:null,fallback:u};m=!1}function fa(e){for(;e!==null&&(e.f&at)===0;)e=e.next;return e}function pi(e,t,a,r,s){var F,$,z,L,N,B,K,re,se;var n=(r&fs)!==0,l=t.length,v=e.items,o=fa(e.effect.first),d,u=null,_,h=[],m=[],y,b,p,w;if(n)for(w=0;w<l;w+=1)y=t[w],b=s(y,w),p=v.get(b).e,(p.f&pt)===0&&(($=(F=p.nodes)==null?void 0:F.a)==null||$.measure(),(_??(_=new Set)).add(p));for(w=0;w<l;w+=1){if(y=t[w],b=s(y,w),p=v.get(b).e,e.outrogroups!==null)for(const ce of e.outrogroups)ce.pending.delete(p),ce.done.delete(p);if((p.f&pt)!==0)if(p.f^=pt,p===o)pa(p,null,a);else{var I=u?u.next:o;p===e.effect.last&&(e.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),wt(e,u,p),wt(e,p,I),pa(p,I,a),u=p,h=[],m=[],o=fa(u.next);continue}if((p.f&Ne)!==0&&(jr(p),n&&((L=(z=p.nodes)==null?void 0:z.a)==null||L.unfix(),(_??(_=new Set)).delete(p))),p!==o){if(d!==void 0&&d.has(p)){if(h.length<m.length){var T=m[0],j;u=T.prev;var S=h[0],x=h[h.length-1];for(j=0;j<h.length;j+=1)pa(h[j],T,a);for(j=0;j<m.length;j+=1)d.delete(m[j]);wt(e,S.prev,x.next),wt(e,u,S),wt(e,x,T),o=T,u=x,w-=1,h=[],m=[]}else d.delete(p),pa(p,o,a),wt(e,p.prev,p.next),wt(e,p,u===null?e.effect.first:u.next),wt(e,u,p),u=p;continue}for(h=[],m=[];o!==null&&o!==p;)(d??(d=new Set)).add(o),m.push(o),o=fa(o.next);if(o===null)continue}(p.f&pt)===0&&h.push(p),u=p,o=fa(p.next)}if(e.outrogroups!==null){for(const ce of e.outrogroups)ce.pending.size===0&&(ur($a(ce.done)),(N=e.outrogroups)==null||N.delete(ce));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||d!==void 0){var C=[];if(d!==void 0)for(p of d)(p.f&Ne)===0&&C.push(p);for(;o!==null;)(o.f&Ne)===0&&o!==e.fallback&&C.push(o),o=fa(o.next);var R=C.length;if(R>0){var O=(r&Wr)!==0&&l===0?a:null;if(n){for(w=0;w<R;w+=1)(K=(B=C[w].nodes)==null?void 0:B.a)==null||K.measure();for(w=0;w<R;w+=1)(se=(re=C[w].nodes)==null?void 0:re.a)==null||se.fix()}fi(e,C,O)}}n&&Ut(()=>{var ce,ne;if(_!==void 0)for(p of _)(ne=(ce=p.nodes)==null?void 0:ce.a)==null||ne.apply()})}function _i(e,t,a,r,s,n,l,v){var o=(l&ds)!==0?(l&ps)===0?Bs(a,!1,!1):Jt(a):null,d=(l&us)!==0?Jt(s):null;return{v:o,i:d,e:Ve(()=>(n(t,o??a,d??s,v),()=>{e.delete(r)}))}}function pa(e,t,a){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end,n=t&&(t.f&pt)===0?t.nodes.start:a;r!==null;){var l=Sa(r);if(n.before(r),r===s)return;r=l}}function wt(e,t,a){t===null?e.effect.first=a:t.next=a,a===null?e.effect.last=t:a.prev=t}function Pa(e,t,...a){var r=new Nn(e);Va(()=>{const s=t()??null;r.ensure(s,s&&(n=>s(n,...a)))},Kt)}const Lr=[...` 	
\r\fÂ \v\uFEFF`];function hi(e,t,a){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),a){for(var s of Object.keys(a))if(a[s])r=r?r+" "+s:s;else if(r.length)for(var n=s.length,l=0;(l=r.indexOf(s,l))>=0;){var v=l+n;(l===0||Lr.includes(r[l-1]))&&(v===r.length||Lr.includes(r[v]))?r=(l===0?"":r.substring(0,l))+r.substring(v+1):l=v}}return r===""?null:r}function gi(e,t){return e==null?null:String(e)}function de(e,t,a,r,s,n){var l=e.__className;if(l!==a||l===void 0){var v=hi(a,r,n);v==null?e.removeAttribute("class"):e.className=v,e.__className=a}else if(n&&s!==n)for(var o in n){var d=!!n[o];(s==null||d!==!!s[o])&&e.classList.toggle(o,d)}return n}function fr(e,t,a,r){var s=e.__style;if(s!==t){var n=gi(t);n==null?e.removeAttribute("style"):e.style.cssText=n,e.__style=t}return r}function Ln(e,t,a=!1){if(e.multiple){if(t==null)return;if(!gr(t))return ws();for(var r of e.options)r.selected=t.includes(ga(r));return}for(r of e.options){var s=ga(r);if(Hs(s,t)){r.selected=!0;return}}(!a||t!==void 0)&&(e.selectedIndex=-1)}function mi(e){var t=new MutationObserver(()=>{Ln(e,e.__value)});t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),bn(()=>{t.disconnect()})}function yi(e,t,a=t){var r=new WeakSet,s=!0;yn(e,"change",n=>{var l=n?"[selected]":":checked",v;if(e.multiple)v=[].map.call(e.querySelectorAll(l),ga);else{var o=e.querySelector(l)??e.querySelector("option:not([disabled])");v=o&&ga(o)}a(v),H!==null&&r.add(H)}),Xs(()=>{var n=t();if(e===document.activeElement){var l=za??H;if(r.has(l))return}if(Ln(e,n,s),s&&n===void 0){var v=e.querySelector(":checked");v!==null&&(n=ga(v),a(n))}e.__value=n,s=!1}),mi(e)}function ga(e){return"__value"in e?e.__value:e.value}const bi=Symbol("is custom element"),wi=Symbol("is html"),xi=Qn?"progress":"PROGRESS";function ki(e,t){var a=Mn(e);a.value===(a.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!==xi)||(e.value=t??"")}function pr(e,t,a,r){var s=Mn(e);s[t]!==(s[t]=a)&&(t==="loading"&&(e[Zn]=a),a==null?e.removeAttribute(t):typeof a!="string"&&ji(e).includes(t)?e[t]=a:e.setAttribute(t,a))}function Mn(e){return e.__attributes??(e.__attributes={[bi]:e.nodeName.includes("-"),[wi]:e.namespaceURI===Yr})}var Mr=new Map;function ji(e){var t=e.getAttribute("is")||e.nodeName,a=Mr.get(t);if(a)return a;Mr.set(t,a=[]);for(var r,s=e,n=Element.prototype;n!==s;){r=Hn(s);for(var l in r)r[l].set&&a.push(l);s=Hr(s)}return a}function et(e,t,a=t){var r=new WeakSet;yn(e,"input",async s=>{var n=s?e.defaultValue:e.value;if(n=Wa(e)?Ya(n):n,a(n),H!==null&&r.add(H),await si(),n!==(n=t())){var l=e.selectionStart,v=e.selectionEnd,o=e.value.length;if(e.value=n??"",v!==null){var d=e.value.length;l===v&&v===o&&d>o?(e.selectionStart=d,e.selectionEnd=d):(e.selectionStart=l,e.selectionEnd=Math.min(v,d))}}}),Ha(t)==null&&e.value&&(a(Wa(e)?Ya(e.value):e.value),H!==null&&r.add(H)),kn(()=>{var s=t();if(e===document.activeElement){var n=za??H;if(r.has(n))return}Wa(e)&&s===Ya(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}function Wa(e){var t=e.type;return t==="number"||t==="range"}function Ya(e){return e===""?null:+e}let Ca=!1;function Si(e){var t=Ca;try{return Ca=!1,[e(),Ca]}finally{Ca=t}}function pe(e,t,a,r){var I;var s=(a&gs)!==0,n=(a&ms)!==0,l=r,v=!0,o=()=>(v&&(v=!1,l=n?Ha(r):r),l),d;if(s){var u=Zt in e||Yn in e;d=((I=Yt(e,t))==null?void 0:I.set)??(u&&t in e?T=>e[t]=T:void 0)}var _,h=!1;s?[_,h]=Si(()=>e[t]):_=e[t],_===void 0&&r!==void 0&&(_=o(),d&&(is(),d(_)));var m;if(m=()=>{var T=e[t];return T===void 0?o():(v=!0,T)},(a&hs)===0)return m;if(d){var y=e.$$legacy;return(function(T,j){return arguments.length>0?((!j||y||h)&&d(j?m():T),T):m()})}var b=!1,p=((a&_s)!==0?Ba:cn)(()=>(b=!1,m()));s&&i(p);var w=Q;return(function(T,j){if(arguments.length>0){const S=j?i(p):s?te(T):T;return E(p,S),b=!0,l!==void 0&&(l=S),T}return Tt&&b||(w.f&_t)!==0?p.v:i(p)})}function Ka(e){Le===null&&Xn(),wn(()=>{const t=Ha(e);if(typeof t=="function")return t})}const Ei="5";var Vr;typeof window<"u"&&((Vr=window.__svelte??(window.__svelte={})).v??(Vr.v=new Set)).add(Ei);var Pi=A('<button><span class="nav-icon svelte-13kr8n0"> </span> <span class="nav-label svelte-13kr8n0"> </span></button>'),Ti=A('<nav class="nav-pill svelte-13kr8n0"></nav>');function Ai(e,t){oe(t,!0);const a=[{path:"/",label:"Home",icon:"â¬¡"},{path:"/studio",label:"Studio",icon:"â—ˆ"},{path:"/decisions",label:"Decisions",icon:"â—‡"},{path:"/apps",label:"Blueprint",icon:"â–³"},{path:"/governance",label:"Governance",icon:"â—Ž"},{path:"/settings",label:"Settings",icon:"âš™"}];function r(n){return n==="/"?t.currentRoute==="/":t.currentRoute.startsWith(n)}var s=Ti();ee(s,21,()=>a,X,(n,l)=>{var v=Pi();let o;var d=c(v),u=c(d),_=f(d,2),h=c(_);q(m=>{o=de(v,1,"nav-item svelte-13kr8n0",null,o,m),P(u,i(l).icon),P(h,i(l).label)},[()=>({active:r(i(l).path)})]),le("click",v,()=>t.onnavigate(i(l).path)),g(n,v)}),g(e,s),ve()}Re(["click"]);var Ii=A('<main class="layout svelte-7rqiin"><!></main>');function Ci(e,t){var a=Ii(),r=c(a);Pa(r,()=>t.children),g(e,a)}const _r="vda_auth";function $r(e){return e.replace(/\/+$/,"")}function Ri(){return location.pathname.startsWith("/ui")?location.origin:"http://localhost:4020"}function Za(e){const t=e.trim();return t?!t.startsWith("/")&&!/^[a-zA-Z][a-zA-Z\d+\-.]*:\/\//.test(t)?$r(`http://${t}`):$r(t):Ri()}function qi(){try{const e=localStorage.getItem(_r);if(e){const t=JSON.parse(e);return{token:typeof t.token=="string"?t.token:"",baseUrl:typeof t.baseUrl=="string"?t.baseUrl:""}}}catch{}return{token:"",baseUrl:""}}function Oi(){const e=qi();let t=D(te(e.token.trim())),a=D(te(Za(e.baseUrl)));function r(){localStorage.setItem(_r,JSON.stringify({token:i(t),baseUrl:i(a)}))}return{get token(){return i(t)},set token(s){E(t,s.trim(),!0),r()},get baseUrl(){return i(a)},set baseUrl(s){E(a,Za(s),!0),r()},get isAuthenticated(){return i(t).length>0},clear(){E(t,""),E(a,Za(""),!0),localStorage.removeItem(_r)}}}const fe=Oi();var zi=A("<button><!></button>");function Pt(e,t){let a=pe(t,"variant",3,"primary"),r=pe(t,"size",3,"md"),s=pe(t,"disabled",3,!1);var n=zi(),l=c(n);Pa(l,()=>t.children),q(()=>{de(n,1,`pill-button ${a()??""} ${r()??""}`,"svelte-ny80jl"),n.disabled=s()}),le("click",n,function(...v){var o;(o=t.onclick)==null||o.apply(this,v)}),g(e,n)}Re(["click"]);var Di=A('<div class="auth-gate svelte-1dycvre"><div class="auth-card svelte-1dycvre"><div class="auth-logo svelte-1dycvre">â¬¡</div> <h1 class="auth-title svelte-1dycvre">Violet Deterministic API</h1> <p class="auth-subtitle svelte-1dycvre">Enter your API credentials to connect</p> <div class="auth-form svelte-1dycvre"><label class="field svelte-1dycvre"><span class="field-label svelte-1dycvre">API Base URL</span> <input type="url" class="field-input svelte-1dycvre" placeholder="http://localhost:4020"/></label> <label class="field svelte-1dycvre"><span class="field-label svelte-1dycvre">Bearer Token</span> <input type="password" class="field-input svelte-1dycvre" placeholder="dev-token"/></label> <!></div> <p class="auth-hint svelte-1dycvre">Dev tokens: <code class="svelte-1dycvre">dev-token</code> or <code class="svelte-1dycvre">ops-token</code></p></div></div>');function Ni(e,t){oe(t,!0);let a=D(te(fe.token)),r=D(te(fe.baseUrl));function s(){fe.token=i(a),fe.baseUrl=i(r)}var n=At(),l=Ee(n);{var v=d=>{var u=At(),_=Ee(u);Pa(_,()=>t.children),g(d,u)},o=d=>{var u=Di(),_=c(u),h=f(c(_),6),m=c(h),y=f(c(m),2),b=f(m,2),p=f(c(b),2),w=f(b,2);{let I=G(()=>!i(a));Pt(w,{size:"lg",onclick:s,get disabled(){return i(I)},children:(T,j)=>{var S=Z("Connect");g(T,S)},$$slots:{default:!0}})}et(y,()=>i(r),I=>E(r,I)),le("keydown",p,I=>I.key==="Enter"&&s()),et(p,()=>i(a),I=>E(a,I)),g(d,u)};U(l,d=>{fe.isAuthenticated?d(v):d(o,!1)})}g(e,n),ve()}Re(["keydown"]);var Li=A('<span class="signal-card svelte-1ugdgh1"><span class="signal-icon svelte-1ugdgh1"> </span> </span>'),Mi=A('<div class="signal-cards svelte-1ugdgh1"></div>'),$i=A('<div class="prompt-area svelte-1ugdgh1"><div class="prompt-container svelte-1ugdgh1"><textarea class="prompt-input svelte-1ugdgh1" placeholder="Describe the app you want to build..." rows="4"></textarea> <!> <div class="prompt-footer svelte-1ugdgh1"><span class="prompt-hint svelte-1ugdgh1">âŒ˜ Enter to submit</span> <button class="submit-btn svelte-1ugdgh1"> </button></div></div></div>');function Fi(e,t){oe(t,!0);let a=pe(t,"loading",3,!1),r=D("");const s=[{keyword:"crm",label:"CRM",icon:"ðŸ‘¥"},{keyword:"mobile",label:"Mobile App",icon:"ðŸ“±"},{keyword:"agent",label:"AI Agent",icon:"ðŸ¤–"},{keyword:"dashboard",label:"Dashboard",icon:"ðŸ“Š"},{keyword:"ecommerce",label:"E-commerce",icon:"ðŸ›’"},{keyword:"api",label:"API Service",icon:"âš¡"}];let n=G(()=>s.filter(p=>i(r).toLowerCase().includes(p.keyword)));function l(){i(r).trim()&&!a()&&t.onsubmit(i(r).trim())}function v(p){p.key==="Enter"&&p.metaKey&&l()}var o=$i(),d=c(o),u=c(d),_=f(u,2);{var h=p=>{var w=Mi();ee(w,21,()=>i(n),X,(I,T)=>{var j=Li(),S=c(j),x=c(S),C=f(S);q(()=>{P(x,i(T).icon),P(C,` ${i(T).label??""}`)}),g(I,j)}),g(p,w)};U(_,p=>{i(n).length>0&&p(h)})}var m=f(_,2),y=f(c(m),2),b=c(y);q(p=>{y.disabled=p,P(b,a()?"Planning...":"Draft Scope")},[()=>!i(r).trim()||a()]),le("keydown",u,v),et(u,()=>i(r),p=>E(r,p)),le("click",y,l),g(e,o),ve()}Re(["keydown","click"]);var Ui=A('<div class="summary-bar svelte-1t1xupv"> </div>'),Bi=A("<button> </button>"),Vi=A('<div class="quick-pills svelte-1t1xupv"></div>'),Hi=A('<div class="qa-card svelte-1t1xupv"><div class="qa-question svelte-1t1xupv"><span class="qa-icon svelte-1t1xupv">?</span> <div class="qa-text svelte-1t1xupv"><p class="qa-prompt svelte-1t1xupv"> </p> <p class="qa-why svelte-1t1xupv"> </p></div></div> <div class="qa-answer svelte-1t1xupv"><!> <input type="text" class="qa-input svelte-1t1xupv" placeholder="Or type a custom answer..."/></div></div>'),Ki=A('<div class="clarify-chat svelte-1t1xupv"><!> <!> <button class="continue-btn svelte-1t1xupv"> </button></div>');function Gi(e,t){oe(t,!0);let a=pe(t,"loading",3,!1),r=pe(t,"summary",3,""),s=te({});function n(){a()||t.onanswer(s)}function l(y,b){s[y]=b}let v=G(()=>Object.keys(s).length);var o=Ki(),d=c(o);{var u=y=>{var b=Ui(),p=c(b);q(()=>P(p,r())),g(y,b)};U(d,y=>{r()&&y(u)})}var _=f(d,2);ee(_,17,()=>t.questions,X,(y,b)=>{var p=Hi(),w=c(p),I=f(c(w),2),T=c(I),j=c(T),S=f(T,2),x=c(S),C=f(w,2),R=c(C);{var O=$=>{var z=Vi();ee(z,21,()=>i(b).options,X,(L,N)=>{var B=Bi();let K;var re=c(B);q(()=>{K=de(B,1,"quick-pill svelte-1t1xupv",null,K,{active:s[i(b).id]===i(N)}),P(re,i(N))}),le("click",B,()=>l(i(b).id,i(N))),g(L,B)}),g($,z)};U(R,$=>{i(b).options&&i(b).options.length>0&&$(O)})}var F=f(R,2);q(()=>{P(j,i(b).prompt),P(x,i(b).why),ki(F,s[i(b).id]??"")}),le("input",F,$=>l(i(b).id,$.target.value)),g(y,p)});var h=f(_,2),m=c(h);q(()=>{h.disabled=a()||i(v)<t.questions.length,P(m,a()?"Processing...":`Continue (${i(v)}/${t.questions.length})`)}),le("click",h,n),g(e,o),ve()}Re(["click","input"]);var Ji=A('<div class="check-item svelte-15c7fy0"><span class="check-icon svelte-15c7fy0">&#10003;</span> <span class="check-text svelte-15c7fy0"> </span></div>'),Wi=A('<div class="checks-list svelte-15c7fy0"></div>'),Yi=A('<div class="conf-field svelte-15c7fy0"><span class="conf-label svelte-15c7fy0"> </span> <span class="conf-value svelte-15c7fy0"> </span></div>'),Zi=A('<span class="conf-pill svelte-15c7fy0"> </span>'),Qi=A('<div class="conf-field svelte-15c7fy0"><span class="conf-label svelte-15c7fy0"> </span> <div class="conf-pills svelte-15c7fy0"></div></div>'),Xi=A('<div class="prompt-preview svelte-15c7fy0"><span class="conf-label svelte-15c7fy0">Original Prompt</span> <p class="prompt-text svelte-15c7fy0"> </p></div>'),el=A('<div class="confirm-form svelte-15c7fy0"><h2 class="confirm-title svelte-15c7fy0">Scope Confirmation</h2> <!> <div class="confirmation-grid svelte-15c7fy0"><!> <!></div> <!> <!></div>');function tl(e,t){oe(t,!0);let a=pe(t,"loading",3,!1);function r(){t.ongenerate({prompt:t.confirmation.prompt??"",app_name:t.confirmation.app_name,domain:t.confirmation.domain,template:t.confirmation.template,source_system:t.confirmation.source_system,primary_users:t.confirmation.primary_users,core_workflows:t.confirmation.core_workflows,data_entities:t.confirmation.data_entities,deployment_target:t.confirmation.deployment_target,region:t.confirmation.region})}const s=[{key:"app_name",label:"App Name"},{key:"domain",label:"Domain"},{key:"template",label:"Template"},{key:"source_system",label:"Source System"},{key:"deployment_target",label:"Deployment Target"},{key:"region",label:"Region"},{key:"plan",label:"Plan"}],n=[{key:"primary_users",label:"Primary Users"},{key:"core_workflows",label:"Core Workflows"},{key:"data_entities",label:"Data Entities"},{key:"integrations",label:"Integrations"},{key:"constraints",label:"Constraints"}];var l=el(),v=f(c(l),2);{var o=b=>{var p=Wi();ee(p,21,()=>t.checks,X,(w,I)=>{var T=Ji(),j=f(c(T),2),S=c(j);q(()=>P(S,i(I))),g(w,T)}),g(b,p)};U(v,b=>{t.checks.length>0&&b(o)})}var d=f(v,2),u=c(d);ee(u,17,()=>s,X,(b,p)=>{let w=()=>i(p).key,I=()=>i(p).label;const T=G(()=>t.confirmation[w()]);var j=At(),S=Ee(j);{var x=C=>{var R=Yi(),O=c(R),F=c(O),$=f(O,2),z=c($);q(()=>{P(F,I()),P(z,i(T))}),g(C,R)};U(S,C=>{i(T)&&typeof i(T)=="string"&&C(x)})}g(b,j)});var _=f(u,2);ee(_,17,()=>n,X,(b,p)=>{let w=()=>i(p).key,I=()=>i(p).label;const T=G(()=>t.confirmation[w()]);var j=At(),S=Ee(j);{var x=R=>{var O=Qi(),F=c(O),$=c(F),z=f(F,2);ee(z,21,()=>i(T),X,(L,N)=>{var B=Zi(),K=c(B);q(()=>P(K,i(N))),g(L,B)}),q(()=>P($,I())),g(R,O)},C=G(()=>Array.isArray(i(T))&&i(T).length>0);U(S,R=>{i(C)&&R(x)})}g(b,j)});var h=f(d,2);{var m=b=>{var p=Xi(),w=f(c(p),2),I=c(w);q(()=>P(I,t.confirmation.prompt)),g(b,p)};U(h,b=>{t.confirmation.prompt&&b(m)})}var y=f(h,2);Pt(y,{size:"lg",onclick:r,get disabled(){return a()},children:(b,p)=>{var w=Z();q(()=>P(w,a()?"Creating Job...":"Generate")),g(b,w)},$$slots:{default:!0}}),g(e,l),ve()}function al(e){return e.replace(/\/+$/,"")}function rl(e){return e.startsWith("/")?e:`/${e}`}function ya(e,t){return`${al(e)}${rl(t)}`}function nl(e){const t=e.trim();return t.startsWith("{")||t.startsWith("[")}async function sl(e){const t=await e.text();if(!t)return{};if((e.headers.get("content-type")??"").includes("application/json")||nl(t))try{return JSON.parse(t)}catch{return{error:"invalid_response_payload",details:"Expected JSON response but received malformed payload",raw:t}}return e.ok?{value:t}:{error:"http_error",details:t}}async function ye(e,t={}){const{method:a="GET",body:r,idempotencyKey:s}=t,n={};r!==void 0&&(n["Content-Type"]="application/json"),fe.token&&(n.Authorization=`Bearer ${fe.token}`),s&&(n["Idempotency-Key"]=s);const l=ya(fe.baseUrl,e);try{const v=await fetch(l,{method:a,headers:n,body:r===void 0?void 0:JSON.stringify(r)}),o=await sl(v);return{ok:v.ok,status:v.status,data:o}}catch(v){return{ok:!1,status:0,data:{error:"network_error",details:v instanceof Error?v.message:String(v),url:l}}}}function rt(){return crypto.randomUUID()}const il=()=>ye("/v1/health"),ll=e=>ye("/v1/decisions",{method:"POST",body:e,idempotencyKey:rt()}),ol=e=>ye("/v1/replay",{method:"POST",body:e,idempotencyKey:rt()}),vl=e=>ye(`/v1/apps/${e}`),cl=(e,t)=>ye(`/v1/apps/${e}/mutations`,{method:"POST",body:t,idempotencyKey:rt()}),dl=e=>ye(`/v1/apps/${e}/verify`,{method:"POST",body:{},idempotencyKey:rt()}),ul=e=>ye(`/v1/apps/${e}/deploy-intents/self-host`,{method:"POST",body:{},idempotencyKey:rt()}),fl=e=>ye(`/v1/apps/${e}/deploy-intents/managed`,{method:"POST",body:{},idempotencyKey:rt()}),pl=e=>ye("/v1/agents/plan",{method:"POST",body:e,idempotencyKey:rt()}),Fr=e=>ye("/v1/agents/clarify",{method:"POST",body:e,idempotencyKey:rt()}),_l=e=>ye("/v1/studio/jobs",{method:"POST",body:e,idempotencyKey:rt()}),hl=e=>ye(`/v1/studio/jobs/${e}/artifacts`),gl=(e,t)=>ye(`/v1/studio/jobs/${e}/run`,{method:"POST",body:{target:t},idempotencyKey:rt()}),ml=e=>ye(`/v1/studio/jobs/${e}/verification`),yl=e=>ye(`/v1/studio/jobs/${e}/jtbd`),bl=(e,t)=>ye(`/v1/studio/jobs/${e}/terminal`,{method:"POST",body:{command:t},idempotencyKey:rt()}),wl=(e,t)=>ya(t,`/v1/studio/jobs/${e}/preview`),xl=(e,t)=>ya(t,`/v1/studio/jobs/${e}/bundle`),kl=()=>ye("/v1/llm/providers"),jl=()=>ye("/v1/tools");var Sl=A('<div class="error-banner svelte-1nmp6pz"> </div>'),El=A('<div class="home-page svelte-1nmp6pz"><div class="hero svelte-1nmp6pz"><h1 class="hero-title svelte-1nmp6pz">Build your app with<br/><span class="hero-accent svelte-1nmp6pz">deterministic AI</span></h1> <p class="hero-subtitle svelte-1nmp6pz">Describe what you need. VDA plans, generates, verifies, and deploys â€” with every decision auditable and replayable.</p></div> <!> <!></div>');function Pl(e,t){oe(t,!0);let a=D("prompt"),r=D(!1),s=D(null),n=D(null),l=D(te([])),v=D(te({})),o=D(""),d=D(null);async function u(j){E(o,j,!0),E(r,!0),E(d,null);const S=await pl({prompt:j});if(E(r,!1),!S.ok){E(d,S.data.error||"Failed to create plan",!0);return}E(s,S.data,!0),E(v,{prompt:j,app_name:S.data.name,plan:S.data.suggested_blueprint.plan,region:S.data.suggested_blueprint.region},!0);const x=await Fr({prompt:j,confirmation:i(v)});if(!x.ok){E(d,x.data.error||"Clarify failed",!0);return}E(n,x.data,!0),E(v,x.data.updated_confirmation,!0),x.data.ready_to_generate?E(a,"confirm"):(E(l,x.data.questions,!0),E(a,"clarify"))}async function _(j){E(r,!0),E(d,null);const S=await Fr({prompt:i(o),confirmation:i(v),answers:j});if(E(r,!1),!S.ok){E(d,S.data.error||"Clarify failed",!0);return}E(n,S.data,!0),E(v,S.data.updated_confirmation,!0),S.data.ready_to_generate?E(a,"confirm"):E(l,S.data.questions,!0)}async function h(j){E(r,!0),E(d,null);const S=await _l(j);if(E(r,!1),!S.ok){E(d,S.data.error||"Failed to create job",!0);return}t.onnavigate(`/studio/${S.data.job_id}`)}var m=El(),y=f(c(m),2);{var b=j=>{var S=Sl(),x=c(S);q(()=>P(x,i(d))),g(j,S)};U(y,j=>{i(d)&&j(b)})}var p=f(y,2);{var w=j=>{Fi(j,{onsubmit:u,get loading(){return i(r)}})},I=j=>{{let S=G(()=>{var x;return(x=i(n))==null?void 0:x.summary});Gi(j,{get questions(){return i(l)},onanswer:_,get loading(){return i(r)},get summary(){return i(S)}})}},T=j=>{{let S=G(()=>{var x;return((x=i(s))==null?void 0:x.checks)??[]});tl(j,{get confirmation(){return i(v)},get checks(){return i(S)},ongenerate:h,get loading(){return i(r)}})}};U(p,j=>{i(a)==="prompt"?j(w):i(a)==="clarify"?j(I,1):i(a)==="confirm"&&j(T,2)})}g(e,m),ve()}var Tl=A('<button><span class="tree-icon file-icon svelte-rlt7iq"></span> </button>'),Al=A('<button class="tree-item folder svelte-rlt7iq"><span class="tree-icon svelte-rlt7iq"> </span> </button> <!>',1),Il=A('<div class="file-explorer svelte-rlt7iq"><div class="explorer-header svelte-rlt7iq">Files</div> <div class="explorer-tree svelte-rlt7iq"></div></div>');function Cl(e,t){oe(t,!0);const a=(d,u=er,_=er)=>{var h=At(),m=Ee(h);{var y=p=>{var w=Tl();let I;var T=f(c(w));q(()=>{I=de(w,1,"tree-item file svelte-rlt7iq",null,I,{selected:t.selectedFile===u().path}),fr(w,`padding-left: ${12+_()*16}px`),P(T,` ${u().name??""}`)}),le("click",w,()=>t.onselect(u().path)),g(p,w)},b=p=>{var w=Al(),I=Ee(w),T=c(I),j=c(T),S=f(T),x=f(I,2);{var C=O=>{var F=At(),$=Ee(F);ee($,17,()=>u().children,X,(z,L)=>{a(z,()=>i(L),()=>_()+1)}),g(O,F)},R=G(()=>i(n).has(u().path));U(x,O=>{i(R)&&O(C)})}q(O=>{fr(I,`padding-left: ${12+_()*16}px`),P(j,O),P(S,` ${u().name??""}`)},[()=>i(n).has(u().path)?"â–¾":"â–¸"]),le("click",I,()=>l(u().path)),g(p,w)};U(m,p=>{u().isFile?p(y):p(b,!1)})}g(d,h)};let r=G(()=>s(t.files));function s(d){const u=[],_=d.map(h=>h.path).sort();for(const h of _){const m=h.split("/");let y=u;for(let b=0;b<m.length;b++){const p=m[b],w=m.slice(0,b+1).join("/"),I=b===m.length-1;let T=y.find(j=>j.name===p);T||(T={name:p,path:w,children:[],isFile:I},y.push(T)),y=T.children}}return u}let n=D(te(new Set));function l(d){const u=new Set(i(n));u.has(d)?u.delete(d):u.add(d),E(n,u,!0)}var v=Il(),o=f(c(v),2);ee(o,21,()=>i(r),X,(d,u)=>{a(d,()=>i(u),()=>0)}),g(e,v),ve()}Re(["click"]);var Rl=A('<div class="phone-chrome svelte-1or8550"><div class="phone-notch svelte-1or8550"></div> <iframe title="Mobile preview" class="preview-frame mobile svelte-1or8550"></iframe></div>'),ql=A('<iframe title="Desktop preview" class="preview-frame desktop svelte-1or8550"></iframe>'),Ol=A('<div class="preview-panes svelte-1or8550"><div class="preview-toolbar svelte-1or8550"><button>Desktop</button> <button>Mobile</button></div> <div><!></div></div>');function zl(e,t){let a=D("web");var r=Ol(),s=c(r),n=c(s);let l;var v=f(n,2);let o;var d=f(s,2);let u;var _=c(d);{var h=y=>{var b=Rl(),p=f(c(b),2);q(()=>pr(p,"src",t.previewUrl)),g(y,b)},m=y=>{var b=ql();q(()=>pr(b,"src",t.previewUrl)),g(y,b)};U(_,y=>{i(a)==="mobile"?y(h):y(m,!1)})}q(()=>{l=de(n,1,"view-btn svelte-1or8550",null,l,{active:i(a)==="web"}),o=de(v,1,"view-btn svelte-1or8550",null,o,{active:i(a)==="mobile"}),u=de(d,1,"preview-container svelte-1or8550",null,u,{"mobile-view":i(a)==="mobile"})}),le("click",n,()=>E(a,"web")),le("click",v,()=>E(a,"mobile")),g(e,r)}Re(["click"]);var Dl=A('<div class="terminal-line svelte-aih7xd"><span class="terminal-text svelte-aih7xd"> </span></div>'),Nl=A('<div class="terminal-empty svelte-aih7xd">Waiting for output...</div>'),Ll=A("<!> <!>",1),Ml=A('<div class="terminal-line svelte-aih7xd"><span class="terminal-text svelte-aih7xd"> </span></div>'),$l=A('<div class="terminal-empty svelte-aih7xd">No console logs</div>'),Fl=A("<!> <!>",1),Ul=A('<div class="terminal-input-bar svelte-aih7xd"><span class="terminal-prompt svelte-aih7xd">$</span> <input type="text" class="terminal-input svelte-aih7xd" placeholder="Enter command..."/></div>'),Bl=A('<div class="terminal-panel svelte-aih7xd"><div class="terminal-tabs svelte-aih7xd"><button>Terminal</button> <button>Console</button></div> <div class="terminal-output svelte-aih7xd"><!></div> <!></div>');function Vl(e,t){oe(t,!0);let a=D("terminal"),r=D(""),s=D(te([]));async function n(){const T=i(r).trim();if(!T)return;E(r,""),E(s,[...i(s),`$ ${T}`],!0);const j=await bl(t.jobId,T);j.ok?E(s,[...i(s),...j.data.output],!0):E(s,[...i(s),"Error: command failed"],!0)}let l=G(()=>[...t.terminalLogs,...i(s)]);var v=Bl(),o=c(v),d=c(o);let u;var _=f(d,2);let h;var m=f(o,2),y=c(m);{var b=T=>{var j=Ll(),S=Ee(j);ee(S,17,()=>i(l),X,(R,O)=>{var F=Dl(),$=c(F),z=c($);q(()=>P(z,i(O))),g(R,F)});var x=f(S,2);{var C=R=>{var O=Nl();g(R,O)};U(x,R=>{i(l).length===0&&R(C)})}g(T,j)},p=T=>{var j=Fl(),S=Ee(j);ee(S,17,()=>t.consoleLogs,X,(R,O)=>{var F=Ml(),$=c(F),z=c($);q(()=>P(z,i(O))),g(R,F)});var x=f(S,2);{var C=R=>{var O=$l();g(R,O)};U(x,R=>{t.consoleLogs.length===0&&R(C)})}g(T,j)};U(y,T=>{i(a)==="terminal"?T(b):T(p,!1)})}var w=f(m,2);{var I=T=>{var j=Ul(),S=f(c(j),2);le("keydown",S,x=>x.key==="Enter"&&n()),et(S,()=>i(r),x=>E(r,x)),g(T,j)};U(w,T=>{i(a)==="terminal"&&T(I)})}q(()=>{u=de(d,1,"terminal-tab svelte-aih7xd",null,u,{active:i(a)==="terminal"}),h=de(_,1,"terminal-tab svelte-aih7xd",null,h,{active:i(a)==="console"})}),le("click",d,()=>E(a,"terminal")),le("click",_,()=>E(a,"console")),g(e,v),ve()}Re(["click","keydown"]);var Hl=A("<span><!></span>");function ie(e,t){let a=pe(t,"variant",3,"default");var r=Hl(),s=c(r);Pa(s,()=>t.children),q(()=>de(r,1,`badge ${a()??""}`,"svelte-mhmmzz")),g(e,r)}var Kl=A('<div><div class="phase-dot svelte-nm1zgf"><!></div> <div class="phase-content svelte-nm1zgf"><div class="phase-header svelte-nm1zgf"><span class="phase-name svelte-nm1zgf"> </span> <!></div> <p class="phase-task svelte-nm1zgf"> </p> <div class="phase-meta svelte-nm1zgf"><span class="meta-owner"> </span> <span class="meta-estimate"> </span></div></div></div>'),Gl=A('<div class="empty-state svelte-nm1zgf">No workload items yet</div>'),Jl=A('<div class="timeline svelte-nm1zgf"><!> <!></div>');function Wl(e,t){oe(t,!0);function a(v){return v==="done"||v==="complete"?"pass":v==="in_progress"||v==="active"?"degraded":v==="failed"?"fail":"default"}var r=Jl(),s=c(r);ee(s,17,()=>t.workload,X,(v,o)=>{var d=Kl();let u;var _=c(d),h=c(_);{var m=z=>{var L=Z("âœ“");g(z,L)},y=z=>{var L=Z("â—");g(z,L)},b=z=>{var L=Z("â—‹");g(z,L)};U(h,z=>{i(o).status==="done"||i(o).status==="complete"?z(m):i(o).status==="in_progress"||i(o).status==="active"?z(y,1):z(b,!1)})}var p=f(_,2),w=c(p),I=c(w),T=c(I),j=f(I,2);{let z=G(()=>a(i(o).status));ie(j,{get variant(){return i(z)},children:(L,N)=>{var B=Z();q(()=>P(B,i(o).status)),g(L,B)},$$slots:{default:!0}})}var S=f(w,2),x=c(S),C=f(S,2),R=c(C),O=c(R),F=f(R,2),$=c(F);q(()=>{u=de(d,1,"timeline-phase svelte-nm1zgf",null,u,{done:i(o).status==="done"||i(o).status==="complete",active:i(o).status==="in_progress"||i(o).status==="active"}),P(T,i(o).phase),P(x,i(o).task),P(O,i(o).owner),P($,`${i(o).estimate_hours??""}h est.`)}),g(v,d)});var n=f(s,2);{var l=v=>{var o=Gl();g(v,o)};U(n,v=>{t.workload.length===0&&v(l)})}g(e,r),ve()}var Yl=A('<div><span class="sse-dot svelte-pzgc3t"></span> <span class="sse-label svelte-pzgc3t"> </span></div>');function Zl(e,t){let a=pe(t,"status",3,"");var r=Yl();let s;var n=f(c(r),2),l=c(n);q(()=>{s=de(r,1,"sse-indicator svelte-pzgc3t",null,s,{connected:t.connected}),P(l,t.connected?a()||"Connected":"Disconnected")}),g(e,r)}var Ql=A('<div class="result-check svelte-9mb78u"><span class="check-icon svelte-9mb78u"> </span> <span class="check-name svelte-9mb78u"> </span> <span class="check-evidence svelte-9mb78u"> </span></div>'),Xl=A('<div class="gate-result svelte-9mb78u"><div class="result-header svelte-9mb78u"><span class="result-target svelte-9mb78u"> </span> <!></div> <!></div>'),eo=A('<div class="gate-results svelte-9mb78u"></div>'),to=A('<div class="quality-gate svelte-9mb78u"><h3 class="gate-title svelte-9mb78u">Quality Gate</h3> <div class="gate-targets svelte-9mb78u"></div> <!></div>');function ao(e,t){oe(t,!0);let a=pe(t,"results",19,()=>[]),r=pe(t,"loading",3,!1);const s=["web","mobile","api","verify","all"];var n=to(),l=f(c(n),2);ee(l,21,()=>s,X,(d,u)=>{Pt(d,{variant:"secondary",size:"sm",onclick:()=>t.onrun(i(u)),get disabled(){return r()},children:(_,h)=>{var m=Z();q(()=>P(m,`Run ${i(u)??""}`)),g(_,m)},$$slots:{default:!0}})});var v=f(l,2);{var o=d=>{var u=eo();ee(u,21,a,X,(_,h)=>{var m=Xl(),y=c(m),b=c(y),p=c(b),w=f(b,2);{let T=G(()=>i(h).status==="pass"?"pass":"fail");ie(w,{get variant(){return i(T)},children:(j,S)=>{var x=Z();q(()=>P(x,i(h).status)),g(j,x)},$$slots:{default:!0}})}var I=f(y,2);ee(I,17,()=>i(h).checks,X,(T,j)=>{var S=Ql(),x=c(S),C=c(x),R=f(x,2),O=c(R),F=f(R,2),$=c(F);q(()=>{P(C,i(j).status==="pass"?"âœ“":"âœ—"),P(O,i(j).id),P($,i(j).evidence)}),g(T,S)}),q(()=>P(p,i(h).target)),g(_,m)}),g(d,u)};U(v,d=>{a().length>0&&d(o)})}g(e,n),ve()}var ro=A('<div class="check-row svelte-1mjvdwh"><span> </span> <span class="check-id svelte-1mjvdwh"> </span> <span class="check-evidence svelte-1mjvdwh"> </span></div>'),no=A('<div class="verification-report svelte-1mjvdwh"><div class="report-header svelte-1mjvdwh"><span class="report-id svelte-1mjvdwh"> </span> <!></div> <div class="report-meta svelte-1mjvdwh"><span class="meta-time"> </span></div> <div class="report-checks svelte-1mjvdwh"></div></div>');function so(e,t){oe(t,!0);var a=no(),r=c(a),s=c(r),n=c(s),l=f(s,2);{let _=G(()=>t.report.verdict==="pass"?"pass":"fail");ie(l,{get variant(){return i(_)},children:(h,m)=>{var y=Z();q(()=>P(y,t.report.verdict)),g(h,y)},$$slots:{default:!0}})}var v=f(r,2),o=c(v),d=c(o),u=f(v,2);ee(u,21,()=>t.report.checks,X,(_,h)=>{var m=ro(),y=c(m);let b;var p=c(y),w=f(y,2),I=c(w),T=f(w,2),j=c(T);q(()=>{b=de(y,1,"check-status svelte-1mjvdwh",null,b,{pass:i(h).status==="pass",fail:i(h).status!=="pass"}),P(p,i(h).status==="pass"?"âœ“":"âœ—"),P(I,i(h).id),P(j,i(h).evidence)}),g(_,m)}),q(()=>{P(n,`Report ${t.report.report_id??""}`),P(d,`Generated: ${t.report.generated_at??""}`)}),g(e,a),ve()}var io=A('<p class="jtbd-evidence svelte-mqkwna"> </p>'),lo=A('<div><!> <span class="jtbd-name svelte-mqkwna"> </span> <!></div>'),oo=A('<div class="jtbd-coverage svelte-mqkwna"><h3 class="jtbd-title svelte-mqkwna">JTBD Coverage</h3> <div class="jtbd-grid svelte-mqkwna"></div></div>');function vo(e,t){var a=oo(),r=f(c(a),2);ee(r,21,()=>t.items,X,(s,n)=>{var l=lo();let v;var o=c(l);{let m=G(()=>i(n).status==="pass"?"pass":i(n).status==="fail"?"fail":"default");ie(o,{get variant(){return i(m)},children:(y,b)=>{var p=Z();q(()=>P(p,i(n).status)),g(y,p)},$$slots:{default:!0}})}var d=f(o,2),u=c(d),_=f(d,2);{var h=m=>{var y=io(),b=c(y);q(()=>P(b,i(n).evidence)),g(m,y)};U(_,m=>{i(n).evidence&&m(h)})}q(()=>{v=de(l,1,"jtbd-card svelte-mqkwna",null,v,{covered:i(n).status==="pass"}),P(u,i(n).task)}),g(s,l)}),g(e,a)}var co=A('<span class="lang svelte-ttt05w"> </span>'),uo=A('<div class="code-block svelte-ttt05w"><div class="code-header svelte-ttt05w"><!> <button class="copy-btn svelte-ttt05w"> </button></div> <pre class="svelte-ttt05w"><code class="svelte-ttt05w"> </code></pre></div>');function $n(e,t){let a=pe(t,"lang",3,""),r=pe(t,"maxHeight",3,"400px"),s=D(!1);function n(){navigator.clipboard.writeText(t.code),E(s,!0),setTimeout(()=>{E(s,!1)},1500)}var l=uo(),v=c(l),o=c(v);{var d=b=>{var p=co(),w=c(p);q(()=>P(w,a())),g(b,p)};U(o,b=>{a()&&b(d)})}var u=f(o,2),_=c(u),h=f(v,2),m=c(h),y=c(m);q(()=>{P(_,i(s)?"Copied":"Copy"),fr(h,`max-height: ${r()??""}`),P(y,t.code)}),le("click",u,n),g(e,l)}Re(["click"]);function fo(e,t,a,r){let s=!1,n=null,l=null;const o=`${ya(fe.baseUrl,`/v1/studio/jobs/${e}/events`)}?token=${encodeURIComponent(fe.token)}`,d=ya(fe.baseUrl,`/v1/studio/jobs/${e}`);function u(){fetch(d,{headers:{Authorization:`Bearer ${fe.token}`}}).then(m=>m.json()).then(m=>{s||t(m)}).catch(m=>{!s&&r&&r(m)})}function _(){l||(l=setInterval(()=>{if(s){l&&clearInterval(l);return}u()},3e3))}function h(){if(!s)try{n=new EventSource(o),n.onmessage=m=>{try{const y=JSON.parse(m.data);a(y)}catch{}},n.addEventListener("job",m=>{try{const y=JSON.parse(m.data);t(y)}catch{}}),n.onerror=()=>{s||(n==null||n.close(),n=null,_(),setTimeout(h,5e3))}}catch{_()}}return u(),h(),{stop(){s=!0,n==null||n.close(),l&&clearInterval(l)}}}function po(){let e=D(null),t=D(te([])),a=D(!1),r=D(null),s=null;return{get job(){return i(e)},get events(){return i(t)},get connected(){return i(a)},get error(){return i(r)},connect(n){this.disconnect(),E(a,!0),E(r,null),E(t,[],!0),s=fo(n,l=>{E(e,l,!0)},l=>{E(t,[...i(t),l],!0)},l=>{E(r,String(l),!0),E(a,!1)})},disconnect(){s==null||s.stop(),s=null,E(a,!1)},clear(){this.disconnect(),E(e,null),E(t,[],!0),E(r,null)}}}const qe=po();var _o=A("<button> </button>"),ho=A('<div class="empty-state svelte-17l7z8g">Select a file to view</div>'),go=A('<div class="verification-tab svelte-17l7z8g"><!> <!> <!></div>'),mo=A('<div class="studio-page svelte-17l7z8g"><div class="studio-header svelte-17l7z8g"><div class="header-left svelte-17l7z8g"><h2 class="studio-title svelte-17l7z8g"> <!></h2> <!></div> <div class="header-right svelte-17l7z8g"><!> <a class="bundle-link svelte-17l7z8g" download="">Download Bundle</a></div></div> <div><aside class="studio-sidebar svelte-17l7z8g"><!></aside> <section class="studio-main svelte-17l7z8g"><div class="tab-bar svelte-17l7z8g"></div> <div class="tab-content svelte-17l7z8g"><!></div></section> <aside><button class="collapse-btn svelte-17l7z8g"> </button> <!></aside></div></div>');function yo(e,t){oe(t,!0);let a=D("preview"),r=D(null),s=D(""),n=D(null),l=D(te([])),v=D(te([])),o=D(!1),d=G(()=>wl(t.jobId,fe.baseUrl)),u=G(()=>xl(t.jobId,fe.baseUrl)),_=G(()=>{var M,V,ae;return((ae=(V=(M=qe.job)==null?void 0:M.confirmation)==null?void 0:V.prompt)==null?void 0:ae.slice(0,60))||"Studio"}),h=G(()=>{var M,V,ae;return(((ae=(V=(M=qe.job)==null?void 0:M.confirmation)==null?void 0:V.prompt)==null?void 0:ae.length)??0)>60}),m=G(()=>{var M,V,ae;return((M=i(r))==null?void 0:M.files)??((ae=(V=qe.job)==null?void 0:V.artifact_manifest)==null?void 0:ae.files)??[]}),y=G(()=>{var V;const M={};for(const ae of((V=qe.job)==null?void 0:V.files)??[])M[ae.path]=ae.content;return M});Ka(()=>(qe.connect(t.jobId),b(),()=>qe.disconnect()));async function b(){const M=await hl(t.jobId);M.ok&&(E(r,M.data,!0),i(r).files.length>0&&!i(s)&&E(s,i(r).files[0].path,!0))}async function p(){const[M,V]=await Promise.all([ml(t.jobId),yl(t.jobId)]);M.ok&&E(n,M.data,!0),V.ok&&E(l,V.data.jtbd_coverage,!0)}async function w(M){const V=await gl(t.jobId,M);V.ok&&E(v,[...i(v),V.data],!0),p()}var I=mo(),T=c(I),j=c(T),S=c(j),x=c(S),C=f(x);{var R=M=>{var V=Z("...");g(M,V)};U(C,M=>{i(h)&&M(R)})}var O=f(S,2);{let M=G(()=>{var V;return(V=qe.job)==null?void 0:V.status});Zl(O,{get connected(){return qe.connected},get status(){return i(M)}})}var F=f(j,2),$=c(F);{var z=M=>{ie(M,{variant:"accent",children:(V,ae)=>{var Se=Z();q(()=>P(Se,qe.job.status)),g(V,Se)},$$slots:{default:!0}})};U($,M=>{qe.job&&M(z)})}var L=f($,2),N=f(T,2);let B;var K=c(N),re=c(K);Cl(re,{get files(){return i(m)},get selectedFile(){return i(s)},onselect:M=>E(s,M,!0)});var se=f(K,2),ce=c(se);ee(ce,20,()=>["preview","code","workload","verification"],X,(M,V)=>{var ae=_o();let Se;var da=c(ae);q(()=>{Se=de(ae,1,"tab-btn svelte-17l7z8g",null,Se,{active:i(a)===V}),P(da,V)}),le("click",ae,()=>{E(a,V,!0),V==="verification"&&p()}),g(M,ae)});var ne=f(ce,2),he=c(ne);{var $e=M=>{zl(M,{get previewUrl(){return i(d)}})},je=M=>{var V=At(),ae=Ee(V);{var Se=bt=>{{let ua=G(()=>i(s).split(".").pop()||"");$n(bt,{get code(){return i(y)[i(s)]},get lang(){return i(ua)},maxHeight:"600px"})}},da=bt=>{var ua=ho();g(bt,ua)};U(ae,bt=>{i(s)&&i(y)[i(s)]?bt(Se):bt(da,!1)})}g(M,V)},Pe=M=>{{let V=G(()=>{var ae;return((ae=qe.job)==null?void 0:ae.workload)??[]});Wl(M,{get workload(){return i(V)}})}},Je=M=>{var V=go(),ae=c(V);ao(ae,{onrun:w,get results(){return i(v)}});var Se=f(ae,2);{var da=Rt=>{so(Rt,{get report(){return i(n)}})};U(Se,Rt=>{i(n)&&Rt(da)})}var bt=f(Se,2);{var ua=Rt=>{vo(Rt,{get items(){return i(l)}})};U(bt,Rt=>{i(l).length>0&&Rt(ua)})}g(M,V)};U(he,M=>{i(a)==="preview"?M($e):i(a)==="code"?M(je,1):i(a)==="workload"?M(Pe,2):i(a)==="verification"&&M(Je,3)})}var yt=f(se,2);let nt;var It=c(yt),ca=c(It),Ct=f(It,2);{var Ta=M=>{{let V=G(()=>{var Se;return((Se=qe.job)==null?void 0:Se.terminal_logs)??[]}),ae=G(()=>{var Se;return((Se=qe.job)==null?void 0:Se.console_logs)??[]});Vl(M,{get terminalLogs(){return i(V)},get consoleLogs(){return i(ae)},get jobId(){return t.jobId}})}};U(Ct,M=>{i(o)||M(Ta)})}q(()=>{P(x,`${i(_)??""} `),pr(L,"href",i(u)),B=de(N,1,"studio-grid svelte-17l7z8g",null,B,{"sidebar-collapsed":i(o)}),nt=de(yt,1,"studio-terminal svelte-17l7z8g",null,nt,{collapsed:i(o)}),P(ca,i(o)?"â—€":"â–¶")}),le("click",It,()=>E(o,!i(o))),g(e,I),ve()}Re(["click"]);var bo=A('<span class="stage-arrow svelte-15c5ljc">â†’</span>'),wo=A('<div class="stage svelte-15c5ljc"><span class="stage-name svelte-15c5ljc"> </span> <span class="stage-latency svelte-15c5ljc"> </span> <!></div> <!>',1),xo=A('<div class="ranked-item svelte-15c5ljc"><span class="item-rank svelte-15c5ljc"> </span> <span class="item-id svelte-15c5ljc"> </span> <span class="item-score svelte-15c5ljc"> </span> <!></div>'),ko=A('<span class="more-items svelte-15c5ljc"> </span>'),jo=A('<button class="replay-btn svelte-15c5ljc">Replay</button>'),So=A('<div class="decision-card svelte-15c5ljc"><div class="card-header svelte-15c5ljc"><code class="decision-hash svelte-15c5ljc"> </code> <!></div> <div class="card-meta svelte-15c5ljc"><span class="meta-item">ID: <code class="svelte-15c5ljc"> </code></span> <span class="meta-item"> </span> <span class="meta-item"> </span></div> <div class="stage-trace svelte-15c5ljc"></div> <div class="card-items svelte-15c5ljc"><!> <!></div> <!></div>');function Eo(e,t){oe(t,!0);var a=So(),r=c(a),s=c(r),n=c(s),l=f(s,2);{let x=G(()=>t.decision.dependency_status==="healthy"?"pass":"degraded");ie(l,{get variant(){return i(x)},children:(C,R)=>{var O=Z();q(()=>P(O,t.decision.dependency_status)),g(C,O)},$$slots:{default:!0}})}var v=f(r,2),o=c(v),d=f(c(o)),u=c(d),_=f(o,2),h=c(_),m=f(_,2),y=c(m),b=f(v,2);ee(b,21,()=>t.decision.stages,X,(x,C,R)=>{var O=wo(),F=Ee(O),$=c(F),z=c($),L=f($,2),N=c(L),B=f(L,2);{var K=ne=>{ie(ne,{variant:"fail",children:(he,$e)=>{var je=Z("error");g(he,je)},$$slots:{default:!0}})},re=ne=>{ie(ne,{variant:"pass",children:(he,$e)=>{var je=Z();q(()=>P(je,`${i(C).items.length??""} items`)),g(he,je)},$$slots:{default:!0}})};U(B,ne=>{i(C).error?ne(K):ne(re,!1)})}var se=f(F,2);{var ce=ne=>{var he=bo();g(ne,he)};U(se,ne=>{R<t.decision.stages.length-1&&ne(ce)})}q(()=>{P(z,i(C).stage),P(N,`${i(C).latency_ms??""}ms`)}),g(x,O)});var p=f(b,2),w=c(p);ee(w,17,()=>t.decision.ranked_items.slice(0,5),X,(x,C)=>{var R=xo(),O=c(R),F=c(O),$=f(O,2),z=c($),L=f($,2),N=c(L),B=f(L,2);ie(B,{variant:"default",children:(K,re)=>{var se=Z();q(()=>P(se,i(C).source)),g(K,se)},$$slots:{default:!0}}),q(K=>{P(F,`#${i(C).rank??""}`),P(z,i(C).item_id),P(N,K)},[()=>i(C).score.toFixed(4)]),g(x,R)});var I=f(w,2);{var T=x=>{var C=ko(),R=c(C);q(()=>P(R,`+${t.decision.ranked_items.length-5} more`)),g(x,C)};U(I,x=>{t.decision.ranked_items.length>5&&x(T)})}var j=f(p,2);{var S=x=>{var C=jo();le("click",C,()=>t.onreplay(t.decision.decision_id)),g(x,C)};U(j,x=>{t.onreplay&&x(S)})}q(()=>{P(n,t.decision.decision_hash),P(u,t.decision.decision_id),P(h,`Latency: ${t.decision.latency_ms??""}ms`),P(y,`Items: ${t.decision.ranked_items.length??""}`)}),g(e,a),ve()}Re(["click"]);var Po=A('<div class="item-row svelte-19td0yf"><span class="rank svelte-19td0yf"> </span> <span class="id svelte-19td0yf"> </span> <span class="score svelte-19td0yf"> </span></div>'),To=A('<div class="item-row svelte-19td0yf"><span class="rank svelte-19td0yf"> </span> <span class="id svelte-19td0yf"> </span> <span class="score svelte-19td0yf"> </span></div>'),Ao=A('<div class="replay-panel svelte-19td0yf"><div class="replay-header svelte-19td0yf"><h3 class="replay-title svelte-19td0yf">Replay Comparison</h3> <!></div> <div class="replay-comparison svelte-19td0yf"><div class="replay-column svelte-19td0yf"><span class="column-label svelte-19td0yf">Original</span> <code> </code> <div class="column-items svelte-19td0yf"></div></div> <div class="replay-divider svelte-19td0yf"><span class="divider-icon svelte-19td0yf"> </span></div> <div class="replay-column svelte-19td0yf"><span class="column-label svelte-19td0yf">Replayed</span> <code> </code> <div class="column-items svelte-19td0yf"></div></div></div></div>');function Io(e,t){oe(t,!0);var a=Ao(),r=c(a),s=f(c(r),2);{let T=G(()=>t.replay.hashes_match?"pass":"fail");ie(s,{get variant(){return i(T)},children:(j,S)=>{var x=Z();q(()=>P(x,t.replay.hashes_match?"Hashes Match":"Hash Mismatch")),g(j,x)},$$slots:{default:!0}})}var n=f(r,2),l=c(n),v=f(c(l),2);let o;var d=c(v),u=f(v,2);ee(u,21,()=>t.replay.original.ranked_items,X,(T,j)=>{var S=Po(),x=c(S),C=c(x),R=f(x,2),O=c(R),F=f(R,2),$=c(F);q(z=>{P(C,`#${i(j).rank??""}`),P(O,i(j).item_id),P($,z)},[()=>i(j).score.toFixed(4)]),g(T,S)});var _=f(l,2),h=c(_),m=c(h),y=f(_,2),b=f(c(y),2);let p;var w=c(b),I=f(b,2);ee(I,21,()=>t.replay.replayed.ranked_items,X,(T,j)=>{var S=To(),x=c(S),C=c(x),R=f(x,2),O=c(R),F=f(R,2),$=c(F);q(z=>{P(C,`#${i(j).rank??""}`),P(O,i(j).item_id),P($,z)},[()=>i(j).score.toFixed(4)]),g(T,S)}),q(()=>{o=de(v,1,"hash svelte-19td0yf",null,o,{match:t.replay.hashes_match}),P(d,t.replay.original.decision_hash),P(m,t.replay.hashes_match?"=":"â‰ "),p=de(b,1,"hash svelte-19td0yf",null,p,{match:t.replay.hashes_match}),P(w,t.replay.replayed.decision_hash)}),g(e,a),ve()}var Co=A('<span class="stat-sublabel svelte-1pi678"> </span>'),Ro=A('<div class="stat svelte-1pi678"><span class="stat-value svelte-1pi678"> </span> <span class="stat-label svelte-1pi678"> </span> <!></div>');function Qa(e,t){let a=pe(t,"sublabel",3,"");var r=Ro(),s=c(r),n=c(s),l=f(s,2),v=c(l),o=f(l,2);{var d=u=>{var _=Co(),h=c(_);q(()=>P(h,a())),g(u,_)};U(o,u=>{a()&&u(d)})}q(()=>{P(n,t.value),P(v,t.label)}),g(e,r)}function qo(){let e=D(te([])),t=D(null),a=D(!1);return{get decisions(){return i(e)},get activeReplay(){return i(t)},get loading(){return i(a)},addDecision(r){E(e,[r,...i(e)],!0)},setReplay(r){E(t,r,!0)},setLoading(r){E(a,r,!0)},clear(){E(e,[],!0),E(t,null),E(a,!1)}}}const Fe=qo();var Oo=A('<div class="error-banner svelte-9fnz1t"> </div>'),zo=A('<div class="decisions-page svelte-9fnz1t"><div class="page-header svelte-9fnz1t"><h1 class="page-title svelte-9fnz1t">Decisions</h1> <p class="page-desc svelte-9fnz1t">Create deterministic decisions, inspect the pipeline, and verify replay consistency.</p></div> <div class="stats-row svelte-9fnz1t"><!> <!> <!></div> <div class="create-form svelte-9fnz1t"><h3 class="form-title svelte-9fnz1t">Create Decision</h3> <div class="form-fields svelte-9fnz1t"><label class="field svelte-9fnz1t"><span class="field-label svelte-9fnz1t">User ID</span> <input type="text" class="field-input svelte-9fnz1t"/></label> <label class="field svelte-9fnz1t"><span class="field-label svelte-9fnz1t">Context Keys (key=value, ...)</span> <input type="text" class="field-input svelte-9fnz1t"/></label> <label class="field svelte-9fnz1t"><span class="field-label svelte-9fnz1t">Candidates (comma-separated item IDs)</span> <input type="text" class="field-input svelte-9fnz1t"/></label></div> <!></div> <!> <!> <div class="decisions-list svelte-9fnz1t"></div></div>');function Do(e,t){oe(t,!0);let a=D("user-1"),r=D("page=home"),s=D("item-a,item-b,item-c"),n=D(null);function l(z){return z.split(",").map(L=>L.trim()).filter(Boolean).map(L=>({item_id:L}))}async function v(){Fe.setLoading(!0),E(n,null);const z={};for(const B of i(r).split(",")){const[K,re]=B.split("=").map(se=>se.trim());K&&re&&(z[K]=re)}const L={user_id:i(a),context_keys:z,candidates:l(i(s))},N=await ll(L);if(Fe.setLoading(!1),!N.ok){E(n,N.data.error||"Decision failed",!0);return}Fe.addDecision(N.data)}async function o(z){Fe.setLoading(!0),E(n,null);const L=await ol({decision_id:z});if(Fe.setLoading(!1),!L.ok){E(n,L.data.error||"Replay failed",!0);return}Fe.setReplay(L.data)}var d=zo(),u=f(c(d),2),_=c(u);Qa(_,{label:"Decisions",get value(){return Fe.decisions.length}});var h=f(_,2);Qa(h,{label:"Policy Ver",value:"v1"});var m=f(h,2);Qa(m,{label:"Data Ver",value:"v1"});var y=f(u,2),b=f(c(y),2),p=c(b),w=f(c(p),2),I=f(p,2),T=f(c(I),2),j=f(I,2),S=f(c(j),2),x=f(b,2);Pt(x,{onclick:v,get disabled(){return Fe.loading},children:(z,L)=>{var N=Z();q(()=>P(N,Fe.loading?"Creating...":"Create Decision")),g(z,N)},$$slots:{default:!0}});var C=f(y,2);{var R=z=>{var L=Oo(),N=c(L);q(()=>P(N,i(n))),g(z,L)};U(C,z=>{i(n)&&z(R)})}var O=f(C,2);{var F=z=>{Io(z,{get replay(){return Fe.activeReplay}})};U(O,z=>{Fe.activeReplay&&z(F)})}var $=f(O,2);ee($,21,()=>Fe.decisions,X,(z,L)=>{Eo(z,{get decision(){return i(L)},onreplay:o})}),et(w,()=>i(a),z=>E(a,z)),et(T,()=>i(r),z=>E(r,z)),et(S,()=>i(s),z=>E(s,z)),g(e,d),ve()}var No=A("<option> </option>"),Lo=A('<div class="mutation-result svelte-15er07f"><div class="result-header svelte-15er07f"><code class="svelte-15er07f"> </code> <!></div> <div class="result-detail svelte-15er07f"><span class="detail-path svelte-15er07f"> </span> <span class="detail-arrow svelte-15er07f">â†’</span> <span class="detail-value svelte-15er07f"> </span></div> <span class="result-version svelte-15er07f"> </span></div>'),Mo=A('<div class="mutation-results svelte-15er07f"></div>'),$o=A('<div class="mutation-panel svelte-15er07f"><h3 class="panel-title svelte-15er07f">Mutations</h3> <div class="mutation-form svelte-15er07f"><select class="field-input svelte-15er07f"></select> <input type="text" class="field-input svelte-15er07f" placeholder="Path (e.g. /name)"/> <input type="text" class="field-input svelte-15er07f" placeholder="Value"/> <!></div> <!></div>');function Fo(e,t){oe(t,!0);let a=pe(t,"results",19,()=>[]),r=pe(t,"loading",3,!1),s=D("set_name"),n=D(""),l=D("");const v=["set_name","set_plan","set_region","set_feature_flag"];function o(){i(n)&&i(l)&&t.onmutate(i(s),i(n),i(l))}var d=$o(),u=f(c(d),2),_=c(u);ee(_,21,()=>v,X,(w,I)=>{var T=No(),j=c(T),S={};q(()=>{P(j,i(I)),S!==(S=i(I))&&(T.value=(T.__value=i(I))??"")}),g(w,T)});var h=f(_,2),m=f(h,2),y=f(m,2);{let w=G(()=>r()||!i(n)||!i(l));Pt(y,{variant:"primary",size:"sm",onclick:o,get disabled(){return i(w)},children:(I,T)=>{var j=Z();q(()=>P(j,r()?"Applying...":"Apply Mutation")),g(I,j)},$$slots:{default:!0}})}var b=f(u,2);{var p=w=>{var I=Mo();ee(I,21,a,X,(T,j)=>{var S=Lo(),x=c(S),C=c(x),R=c(C),O=f(C,2);{let re=G(()=>i(j).policy_check==="pass"?"pass":"fail");ie(O,{get variant(){return i(re)},children:(se,ce)=>{var ne=Z();q(()=>P(ne,i(j).policy_check)),g(se,ne)},$$slots:{default:!0}})}var F=f(x,2),$=c(F),z=c($),L=f($,4),N=c(L),B=f(F,2),K=c(B);q(re=>{P(R,i(j).mutation_class),P(z,i(j).path),P(N,re),P(K,`v${i(j).version??""}`)},[()=>JSON.stringify(i(j).value)]),g(T,S)}),g(w,I)};U(b,w=>{a().length>0&&w(p)})}yi(_,()=>i(s),w=>E(s,w)),et(h,()=>i(n),w=>E(n,w)),et(m,()=>i(l),w=>E(l,w)),g(e,d),ve()}var Uo=A('<div class="deploy-gate svelte-1u94s1j"><span class="gate-icon svelte-1u94s1j">ðŸ”’</span> <p class="gate-text svelte-1u94s1j">Verification must pass before deploying</p></div>'),Bo=A('<div class="deploy-options svelte-1u94s1j"><button class="deploy-card svelte-1u94s1j"><span class="card-icon svelte-1u94s1j">ðŸ–¥ï¸</span> <span class="card-label svelte-1u94s1j">Self-Host</span> <span class="card-desc svelte-1u94s1j">Deploy to your infrastructure</span></button> <button class="deploy-card svelte-1u94s1j"><span class="card-icon svelte-1u94s1j">â˜ï¸</span> <span class="card-label svelte-1u94s1j">Managed</span> <span class="card-desc svelte-1u94s1j">Hosted by Violet</span></button></div>'),Vo=A('<div class="deploy-result svelte-1u94s1j"><div class="result-row svelte-1u94s1j"><span>Intent ID:</span> <code class="svelte-1u94s1j"> </code></div> <div class="result-row svelte-1u94s1j"><span>Status:</span> <!></div> <div class="result-row svelte-1u94s1j"><span>Approval Required:</span> <!></div> <div class="result-row svelte-1u94s1j"><span>Target:</span> <code class="svelte-1u94s1j"> </code></div></div>'),Ho=A('<div class="deploy-intent svelte-1u94s1j"><h3 class="deploy-title svelte-1u94s1j">Deploy Intent</h3> <!> <!></div>');function Ko(e,t){oe(t,!0);let a=pe(t,"result",3,null),r=pe(t,"loading",3,!1);var s=Ho(),n=f(c(s),2);{var l=u=>{var _=Uo();g(u,_)},v=u=>{var _=Bo(),h=c(_),m=f(h,2);q(()=>{h.disabled=r(),m.disabled=r()}),le("click",h,()=>t.ondeploy("self-host")),le("click",m,()=>t.ondeploy("managed")),g(u,_)};U(n,u=>{t.verified?u(v,!1):u(l)})}var o=f(n,2);{var d=u=>{var _=Vo(),h=c(_),m=f(c(h),2),y=c(m),b=f(h,2),p=f(c(b),2);{let x=G(()=>a().status==="pending_approval"?"degraded":"pass");ie(p,{get variant(){return i(x)},children:(C,R)=>{var O=Z();q(()=>P(O,a().status)),g(C,O)},$$slots:{default:!0}})}var w=f(b,2),I=f(c(w),2);{let x=G(()=>a().approval_required?"degraded":"default");ie(I,{get variant(){return i(x)},children:(C,R)=>{var O=Z();q(()=>P(O,a().approval_required?"Yes":"No")),g(C,O)},$$slots:{default:!0}})}var T=f(w,2),j=f(c(T),2),S=c(j);q(()=>{P(y,a().intent_id),P(S,a().target)}),g(u,_)};U(o,u=>{a()&&u(d)})}g(e,s),ve()}Re(["click"]);function Go(){let e=D(te([])),t=D(null),a=D(!1);return{get apps(){return i(e)},get active(){return i(t)},get loading(){return i(a)},setApps(r){E(e,r,!0)},setActive(r){E(t,r,!0)},setLoading(r){E(a,r,!0)},updateActive(r){i(t)&&E(t,{...i(t),...r},!0)}}}const it=Go();var Jo=A('<div class="app-meta svelte-1qioh8p"><!> <!> <!></div>'),Wo=A('<div class="error-banner svelte-1qioh8p"> </div>'),Yo=A("<span> </span>"),Zo=A('<!> <div class="verify-checks svelte-1qioh8p"></div>',1),Qo=A('<!> <!> <div class="verify-section svelte-1qioh8p"><button class="verify-btn svelte-1qioh8p"> </button> <!></div> <!>',1),Xo=A('<div class="loading-state svelte-1qioh8p">Loading app...</div>'),ev=A('<div class="empty-state svelte-1qioh8p">App not found</div>'),tv=A('<div class="blueprint-page svelte-1qioh8p"><div class="page-header svelte-1qioh8p"><h1 class="page-title svelte-1qioh8p">Blueprint</h1> <!></div> <!> <!></div>');function av(e,t){oe(t,!0);let a=D(te([])),r=D(null),s=D(null),n=D(!1),l=D(null),v=G(()=>{var x;return((x=i(r))==null?void 0:x.verdict)==="pass"});Ka(()=>{o()});async function o(){it.setLoading(!0);const x=await vl(t.appId);it.setLoading(!1),x.ok?it.setActive(x.data):E(l,x.data.error||"Failed to load app",!0)}async function d(x,C,R){E(n,!0),E(l,null);let O=R;try{O=JSON.parse(R)}catch{}const F=await cl(t.appId,{mutation_class:x,path:C,value:O});E(n,!1),F.ok?(E(a,[...i(a),F.data],!0),o()):E(l,F.data.error||"Mutation failed",!0)}async function u(){E(n,!0),E(l,null);const x=await dl(t.appId);E(n,!1),x.ok?E(r,x.data,!0):E(l,x.data.error||"Verify failed",!0)}async function _(x){E(n,!0),E(l,null);const R=await(x==="self-host"?ul:fl)(t.appId);E(n,!1),R.ok?E(s,R.data,!0):E(l,R.data.error||"Deploy failed",!0)}var h=tv(),m=c(h),y=f(c(m),2);{var b=x=>{var C=Jo(),R=c(C);ie(R,{variant:"accent",children:($,z)=>{var L=Z();q(()=>P(L,it.active.name)),g($,L)},$$slots:{default:!0}});var O=f(R,2);ie(O,{variant:"default",children:($,z)=>{var L=Z();q(()=>P(L,`v${it.active.version??""}`)),g($,L)},$$slots:{default:!0}});var F=f(O,2);ie(F,{variant:"default",children:($,z)=>{var L=Z();q(()=>P(L,it.active.region)),g($,L)},$$slots:{default:!0}}),g(x,C)};U(y,x=>{it.active&&x(b)})}var p=f(m,2);{var w=x=>{var C=Wo(),R=c(C);q(()=>P(R,i(l))),g(x,C)};U(p,x=>{i(l)&&x(w)})}var I=f(p,2);{var T=x=>{var C=Qo(),R=Ee(C);{let K=G(()=>JSON.stringify(it.active.blueprint,null,2));$n(R,{get code(){return i(K)},lang:"json",maxHeight:"300px"})}var O=f(R,2);Fo(O,{get appId(){return t.appId},onmutate:d,get results(){return i(a)},get loading(){return i(n)}});var F=f(O,2),$=c(F),z=c($),L=f($,2);{var N=K=>{var re=Zo(),se=Ee(re);{let ne=G(()=>i(v)?"pass":"fail");ie(se,{get variant(){return i(ne)},children:(he,$e)=>{var je=Z();q(()=>P(je,i(r).verdict)),g(he,je)},$$slots:{default:!0}})}var ce=f(se,2);ee(ce,21,()=>i(r).checks,X,(ne,he)=>{var $e=Yo();let je;var Pe=c($e);q(()=>{je=de($e,1,"check-item svelte-1qioh8p",null,je,{pass:i(he).status==="pass"}),P(Pe,`${i(he).status==="pass"?"âœ“":"âœ—"} ${i(he).id??""}`)}),g(ne,$e)}),g(K,re)};U(L,K=>{i(r)&&K(N)})}var B=f(F,2);Ko(B,{get appId(){return t.appId},get verified(){return i(v)},ondeploy:_,get result(){return i(s)},get loading(){return i(n)}}),q(()=>{$.disabled=i(n),P(z,i(n)?"Verifying...":"Run Verification")}),le("click",$,u),g(x,C)},j=x=>{var C=Xo();g(x,C)},S=x=>{var C=ev();g(x,C)};U(I,x=>{it.active?x(T):it.loading?x(j,1):x(S,!1)})}g(e,h),ve()}Re(["click"]);var rv=A('<div class="action-entry svelte-g5f6qa"><div></div> <div class="action-content svelte-g5f6qa"><div class="action-header svelte-g5f6qa"><span class="action-name svelte-g5f6qa"> </span> <div class="action-badges svelte-g5f6qa"><!> <!></div></div> <p class="action-desc svelte-g5f6qa"> </p> <span class="action-time svelte-g5f6qa"> </span></div></div>'),nv=A('<div class="empty-log svelte-g5f6qa">No agent actions recorded yet</div>'),sv=A('<div class="action-log svelte-g5f6qa"><!> <!></div>');function iv(e,t){oe(t,!0);var a=sv(),r=c(a);ee(r,17,()=>t.actions,X,(l,v)=>{var o=rv(),d=c(o);let u;var _=f(d,2),h=c(_),m=c(h),y=c(m),b=f(m,2),p=c(b);{let x=G(()=>i(v).actor==="human"?"info":"accent");ie(p,{get variant(){return i(x)},children:(C,R)=>{var O=Z();q(()=>P(O,i(v).actor)),g(C,O)},$$slots:{default:!0}})}var w=f(p,2);{let x=G(()=>i(v).status==="completed"?"pass":i(v).status==="pending"?"degraded":"default");ie(w,{get variant(){return i(x)},children:(C,R)=>{var O=Z();q(()=>P(O,i(v).status)),g(C,O)},$$slots:{default:!0}})}var I=f(h,2),T=c(I),j=f(I,2),S=c(j);q(()=>{u=de(d,1,"action-timeline-dot svelte-g5f6qa",null,u,{agent:i(v).actor==="agent"}),P(y,i(v).action),P(T,i(v).description),P(S,i(v).timestamp)}),g(l,o)});var s=f(r,2);{var n=l=>{var v=nv();g(l,v)};U(s,l=>{t.actions.length===0&&l(n)})}g(e,a),ve()}var lv=A('<div class="accordion-body svelte-1au6jks"><!></div>'),ov=A('<div><button class="accordion-header svelte-1au6jks"><span class="accordion-title svelte-1au6jks"> </span> <span class="accordion-chevron svelte-1au6jks"> </span></button> <!></div>');function vv(e,t){let a=pe(t,"open",3,!1),r=D(te(a()));var s=ov();let n;var l=c(s),v=c(l),o=c(v),d=f(v,2),u=c(d),_=f(l,2);{var h=m=>{var y=lv(),b=c(y);Pa(b,()=>t.children),g(m,y)};U(_,m=>{i(r)&&m(h)})}q(()=>{n=de(s,1,"accordion svelte-1au6jks",null,n,{expanded:i(r)}),P(o,t.title),P(u,i(r)?"âˆ’":"+")}),le("click",l,()=>E(r,!i(r))),g(e,s)}Re(["click"]);var cv=A('<code class="tool-cli svelte-t8s0hq"> </code>'),dv=A('<div class="tool-detail svelte-t8s0hq"><p class="tool-desc svelte-t8s0hq"> </p> <div class="tool-meta svelte-t8s0hq"><!> <code class="tool-path svelte-t8s0hq"> </code></div> <!></div>'),uv=A('<p class="empty-text svelte-t8s0hq">No tools available</p>'),fv=A('<div class="governance-page svelte-t8s0hq"><div class="page-header svelte-t8s0hq"><h1 class="page-title svelte-t8s0hq">Governance</h1> <p class="page-desc svelte-t8s0hq">Monitor AI agent actions, enforce human approval gates, and audit the plan â†’ act â†’ verify â†’ deploy pipeline.</p></div> <section class="section svelte-t8s0hq"><h2 class="section-title svelte-t8s0hq">Agent Action Log</h2> <!></section> <section class="section svelte-t8s0hq"><h2 class="section-title svelte-t8s0hq">Tools Catalog</h2> <div class="tools-grid svelte-t8s0hq"></div></section></div>');function pv(e,t){oe(t,!0);let a=te([]),r=D(te([]));Ka(()=>{s()});async function s(){const u=await jl();u.ok&&E(r,u.data.tools||[],!0)}var n=fv(),l=f(c(n),2),v=f(c(l),2);iv(v,{get actions(){return a}});var o=f(l,2),d=f(c(o),2);ee(d,21,()=>i(r),X,(u,_)=>{vv(u,{get title(){return i(_).name},children:(h,m)=>{var y=dv(),b=c(y),p=c(b),w=f(b,2),I=c(w);ie(I,{variant:"default",children:(C,R)=>{var O=Z();q(()=>P(O,i(_).method)),g(C,O)},$$slots:{default:!0}});var T=f(I,2),j=c(T),S=f(w,2);{var x=C=>{var R=cv(),O=c(R);q(()=>P(O,i(_).cli)),g(C,R)};U(S,C=>{i(_).cli&&C(x)})}q(()=>{P(p,i(_).description),P(j,i(_).path)}),g(h,y)},$$slots:{default:!0}})},u=>{var _=uv();g(u,_)}),g(e,n),ve()}var _v=A('<div class="health-card svelte-15j4tnx"><div class="health-row svelte-15j4tnx"><span>Status</span> <!></div> <div class="health-row svelte-15j4tnx"><span>Service</span> <code class="svelte-15j4tnx"> </code></div> <div class="health-row svelte-15j4tnx"><span>Policy Version</span> <code class="svelte-15j4tnx"> </code></div> <div class="health-row svelte-15j4tnx"><span>Data Version</span> <code class="svelte-15j4tnx"> </code></div> <div class="health-row svelte-15j4tnx"><span>Idempotency Cleanup</span> <code class="svelte-15j4tnx"> </code></div></div>'),hv=A('<div class="error-banner svelte-15j4tnx"> </div>'),gv=A('<span class="default-badge svelte-15j4tnx">(default)</span>'),mv=A('<div class="model-item svelte-15j4tnx"><!> <span class="model-ctx svelte-15j4tnx"> </span></div>'),yv=A('<div class="provider-card svelte-15j4tnx"><div class="provider-header svelte-15j4tnx"><span class="provider-name svelte-15j4tnx"> <!></span> <!></div> <div class="provider-models svelte-15j4tnx"></div></div>'),bv=A('<p class="empty-text svelte-15j4tnx">No providers configured</p>'),wv=A('<div class="settings-page svelte-15j4tnx"><div class="page-header"><h1 class="page-title svelte-15j4tnx">Settings</h1></div> <section class="section svelte-15j4tnx"><h2 class="section-title svelte-15j4tnx">Connection</h2> <div class="form-card svelte-15j4tnx"><label class="field svelte-15j4tnx"><span class="field-label svelte-15j4tnx">API Base URL</span> <input type="url" class="field-input svelte-15j4tnx"/></label> <label class="field svelte-15j4tnx"><span class="field-label svelte-15j4tnx">Bearer Token</span> <input type="password" class="field-input svelte-15j4tnx"/></label> <div class="btn-row svelte-15j4tnx"><!> <!></div></div></section> <section class="section svelte-15j4tnx"><h2 class="section-title svelte-15j4tnx">Health Check</h2> <!></section> <section class="section svelte-15j4tnx"><h2 class="section-title svelte-15j4tnx">LLM Providers</h2> <div class="providers-grid svelte-15j4tnx"></div></section></div>');function xv(e,t){oe(t,!0);let a=D(null),r=D(te([])),s=D(""),n=D(""),l=D(null),v=D(te(fe.token)),o=D(te(fe.baseUrl));Ka(()=>{d(),u()});async function d(){E(l,null);const N=await il();N.ok?E(a,N.data,!0):E(l,N.data.error||"Health check failed",!0)}async function u(){const N=await kl();N.ok&&(E(r,N.data.providers??[],!0),E(s,N.data.default_provider??"",!0),E(n,N.data.default_model??"",!0))}function _(){fe.token=i(v),fe.baseUrl=i(o),d(),u()}function h(){fe.clear()}var m=wv(),y=f(c(m),2),b=f(c(y),2),p=c(b),w=f(c(p),2),I=f(p,2),T=f(c(I),2),j=f(I,2),S=c(j);Pt(S,{onclick:_,children:(N,B)=>{var K=Z("Save & Reconnect");g(N,K)},$$slots:{default:!0}});var x=f(S,2);Pt(x,{variant:"ghost",onclick:h,children:(N,B)=>{var K=Z("Disconnect");g(N,K)},$$slots:{default:!0}});var C=f(y,2),R=f(c(C),2);{var O=N=>{var B=_v(),K=c(B),re=f(c(K),2);ie(re,{variant:"pass",children:(Ct,Ta)=>{var M=Z();q(()=>P(M,i(a).status)),g(Ct,M)},$$slots:{default:!0}});var se=f(K,2),ce=f(c(se),2),ne=c(ce),he=f(se,2),$e=f(c(he),2),je=c($e),Pe=f(he,2),Je=f(c(Pe),2),yt=c(Je),nt=f(Pe,2),It=f(c(nt),2),ca=c(It);q(()=>{P(ne,i(a).service),P(je,i(a).policy_version),P(yt,i(a).data_version),P(ca,i(a).idempotency_cleanup_deleted_total)}),g(N,B)},F=N=>{var B=hv(),K=c(B);q(()=>P(K,i(l))),g(N,B)},$=N=>{Pt(N,{variant:"secondary",onclick:d,children:(B,K)=>{var re=Z("Check Health");g(B,re)},$$slots:{default:!0}})};U(R,N=>{i(a)?N(O):i(l)?N(F,1):N($,!1)})}var z=f(C,2),L=f(c(z),2);ee(L,21,()=>i(r),X,(N,B)=>{var K=yv(),re=c(K),se=c(re),ce=c(se),ne=f(ce);{var he=Pe=>{var Je=gv();g(Pe,Je)};U(ne,Pe=>{i(B).name===i(s)&&Pe(he)})}var $e=f(se,2);{let Pe=G(()=>i(B).status==="available"?"pass":"default");ie($e,{get variant(){return i(Pe)},children:(Je,yt)=>{var nt=Z();q(()=>P(nt,i(B).status)),g(Je,nt)},$$slots:{default:!0}})}var je=f(re,2);ee(je,21,()=>i(B).models,X,(Pe,Je)=>{var yt=mv(),nt=c(yt);{let Ct=G(()=>i(Je).name===i(n)?"accent":"default");ie(nt,{get variant(){return i(Ct)},children:(Ta,M)=>{var V=Z();q(()=>P(V,i(Je).name)),g(Ta,V)},$$slots:{default:!0}})}var It=f(nt,2),ca=c(It);q(Ct=>P(ca,`${Ct??""} ctx`),[()=>i(Je).context_window.toLocaleString()]),g(Pe,yt)}),q(()=>P(ce,`${i(B).name??""} `)),g(N,K)},N=>{var B=bv();g(N,B)}),et(w,()=>i(o),N=>E(o,N)),et(T,()=>i(v),N=>E(v,N)),g(e,m),ve()}var kv=A("<!> <!>",1);function jv(e,t){oe(t,!0);let a=D(te(window.location.hash.slice(1)||"/"));function r(l){window.location.hash="#"+l}wn(()=>{function l(){E(a,window.location.hash.slice(1)||"/",!0)}return window.addEventListener("hashchange",l),()=>window.removeEventListener("hashchange",l)});function s(l){if(l==="/"||l==="")return{route:"home",params:{}};if(l==="/decisions")return{route:"decisions",params:{}};if(l==="/governance")return{route:"governance",params:{}};if(l==="/settings")return{route:"settings",params:{}};const v=l.match(/^\/studio\/(.+)$/);if(v)return{route:"studio",params:{jobId:v[1]}};const o=l.match(/^\/apps\/(.+)$/);return o?{route:"blueprint",params:{appId:o[1]}}:{route:"home",params:{}}}let n=G(()=>s(i(a)));Ni(e,{children:(l,v)=>{var o=kv(),d=Ee(o);Ai(d,{get currentRoute(){return i(a)},onnavigate:r});var u=f(d,2);Ci(u,{children:(_,h)=>{var m=At(),y=Ee(m);{var b=S=>{Pl(S,{onnavigate:r})},p=S=>{yo(S,{get jobId(){return i(n).params.jobId}})},w=S=>{Do(S,{})},I=S=>{av(S,{get appId(){return i(n).params.appId}})},T=S=>{pv(S,{})},j=S=>{xv(S,{})};U(y,S=>{i(n).route==="home"?S(b):i(n).route==="studio"?S(p,1):i(n).route==="decisions"?S(w,2):i(n).route==="blueprint"?S(I,3):i(n).route==="governance"?S(T,4):i(n).route==="settings"&&S(j,5)})}g(_,m)}}),g(l,o)},$$slots:{default:!0}}),ve()}ci(jv,{target:document.getElementById("app")});
